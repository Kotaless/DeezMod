"use strict";(self.webpackJsonpDeezer=self.webpackJsonpDeezer||[]).push([[592],{d6cg:(e,t,n)=>{n.d(t,{A:()=>N});var a=n("q1tI"),r=n("5G9X"),i=n("sdUN"),l=n("Wp0Y"),s=n("A2sV"),o=n("NSet"),c=n("hIIJ"),d=n("fIC+"),u=n("ailv");const m=({artistId:e,albumId:t})=>{var n,r;const{data:i,error:m}=(0,s.KDJ)({variables:{artistId:e,liveEventsByProximityFirst:5},skip:!e});if(m)throw m;if(null==i||null===(n=i.artist)||void 0===n||!n.liveEventsByProximity||0===(null==i||null===(r=i.artist)||void 0===r||null===(r=r.liveEventsByProximity)||void 0===r?void 0:r.edges.length))return null;const p=i.artist.liveEventsByProximity.edges.map((e=>null==e?void 0:e.node)).filter(Boolean).slice(0,3);return a.createElement("div",{className:"catalog-content"},a.createElement("div",{className:"container"},a.createElement(o.az,{mb:"spacing.xl"},a.createElement(c.A,{title:(0,l.AP)("artistpage_title_artistXontour_web",{sprintf:[i.artist.name]}),href:`/artist/${i.artist.id}/concerts`,ctaLabel:(0,l.AP)("eventpage_action_alltourdates_web")})),a.createElement(d.A,{concerts:p,onItemClick:(e,n)=>{(0,u.uV)({action:u.rc.CLICK_CONCERT,screen_view_id:t||"",screen_view_id_type:u.v5.ALBUM,screen_view_name:u.Xw.ALBUM,concert_ranking:n,item_id:e.id,item_type:(0,u.U$)(e.types)})}})))};var p=n("4vn4"),A=n("3ns7"),h=n("GxIe"),E=n("3nMj"),_=n("0O3b"),v=n("0JBE");const b=({dataFromStore:e})=>{var t,n,r;const{ALB_ID:i,ART_ID:o}=e,d={artistId:o,nb:30,cursor:null,roles:[s.by3.MAIN],subType:null,order:s.sV3.RELEASE_DATE,mode:s.rb0.OFFICIAL},{data:u}=(0,s.T_E)({variables:{...d,types:[s.iqi.ALBUM]}}),{data:m}=(0,s.T_E)({variables:{...d,types:[s.iqi.EP]}}),{data:b}=(0,s.T_E)({variables:{...d,types:[s.iqi.SINGLES]}}),g=[...(0,_.A)(null==u||null===(t=u.artist)||void 0===t?void 0:t.albums.edges),...(0,_.A)(null==m||null===(n=m.artist)||void 0===n?void 0:n.albums.edges),...(0,_.A)(null==b||null===(r=b.artist)||void 0===r?void 0:r.albums.edges)].filter((e=>e.id!==i)).slice(0,12);return g.length?a.createElement("div",{className:"catalog-content"},a.createElement("div",{className:"container"},a.createElement(p.FN,null,a.createElement(p.qz,null,a.createElement(c.A,{title:(0,l.AP)("discographytype_title_discography_web"),href:`/artist/${o}`,ctaLabel:(0,l.AP)("Voir tout")}),a.createElement(p.q2,{leftLabel:(0,l.AP)("Précédent"),rightLabel:(0,l.AP)("Suivant")})),a.createElement(p.vQ,{as:A.kK,oneLine:!0},g.map((e=>{var t,n;return a.createElement(v.OJ,{key:e.id,value:{legacyContext:{TYPE:"album_discography",CONTEXT_ID:i,ID:e.id}}},a.createElement(h.A,{id:e.id,albumName:e.displayTitle,picture:null===(t=e.cover)||void 0===t?void 0:t.large[0],isExplicitAlbum:e.isExplicit||!1,hasExplicitCover:null===(n=e.cover)||void 0===n?void 0:n.explicitStatus,releaseDate:(0,E.A)(e.releaseDate),contributors:(0,_.A)(e.contributors.edges)}))})))))):null};var g=n("X/JG"),I=n("lpJY"),y=n("7E8A");const C=({dataFromStore:e})=>{const{RELATED_ARTISTS:t}=e;return t.data.length?a.createElement("div",{className:"catalog-content"},a.createElement(g.A,{data:t.data,title:(0,l.AP)("Artistes similaires"),context:"album_similar_artist",pageContext:y.CONTEXT_PAGE_ALBUM_SIMILAR_ARTIST,alignment:"left"},a.createElement(I.A,{data:t.data,context:"album_similar_artist",pageContext:y.CONTEXT_PAGE_ALBUM_SIMILAR_ARTIST,nbLines:1}))):null},T=({albumId:e})=>{var t;const{data:n}=(0,s.LLq)({variables:{albumId:e}}),r=(0,_.A)(null==n||null===(t=n.album)||void 0===t||null===(t=t.alternativeVersions)||void 0===t?void 0:t.edges);return r.length?a.createElement("div",{className:"catalog-content"},a.createElement("div",{className:"container"},a.createElement(p.FN,null,a.createElement(p.qz,null,a.createElement(c.A,{title:(0,l.AP)("albumpage_title_otherversions_web")}),a.createElement(p.q2,{leftLabel:(0,l.AP)("Précédent"),rightLabel:(0,l.AP)("Suivant")})),a.createElement(p.vQ,{as:A.kK,oneLine:!0},r.map((t=>{var n,r;return a.createElement(v.OJ,{key:t.id,value:{legacyContext:{ID:t.id,TYPE:"album_discography",CONTEXT_ID:e}}},a.createElement(h.A,{id:t.id,albumName:t.displayTitle,picture:null===(n=t.cover)||void 0===n?void 0:n.large[0],isExplicitAlbum:t.isExplicit||!1,hasExplicitCover:null===(r=t.cover)||void 0===r?void 0:r.explicitStatus,releaseDate:(0,E.A)(t.releaseDate),contributors:(0,_.A)(t.contributors.edges)}))})))))):null},N=e=>{const{dataFromStore:t,children:n}=e,{COPYRIGHT:l,PRODUCER_LINE:s}=t;return a.createElement("div",{className:"naboo-catalog",id:"page_naboo_album",itemScope:!0,itemType:"http://schema.org/MusicAlbum"},a.createElement("div",{className:"catalog-content"},a.createElement("div",{className:"container"},n,a.createElement("div",{className:"catalog-legal-notice"},a.createElement("p",null,l),a.createElement("p",null,s)))),a.createElement(m,{albumId:t.ALB_ID,artistId:t.ART_ID}),a.createElement(T,{albumId:t.ALB_ID}),a.createElement(b,{dataFromStore:t}),a.createElement(C,{dataFromStore:t}),a.createElement(i.A,{type:r.Ay.Album,data:t}))}},oIpn:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x}),n("/eM8");var a,r,i,l,s=n("q1tI"),o=n("TRpf"),c=n("X6oL"),d=n("H/eQ"),u=n("WmA5"),m=n("iooo"),p=n("tZCQ"),A=n("5G9X"),h=n("p/gB"),E=n("d6cg"),_=n("y8BT"),v=n("FSqQ"),b=n("G929"),g=n("PMxo"),I=n("H9Ex"),y=n("NNA0"),C=n("q7N2"),T=n("xobL"),N=n("sAMA"),S=n("0JBE");const L=s.lazy((()=>n.e(7480).then(n.bind(n,"VAa1"))));let f=(0,c.Ay)({event:"updatepage",pagename:"album",pagecategory:"catalog"})(((r=class extends s.Component{constructor(...e){super(...e),this.state={error:null},this._updateNbFan=({namespace:e},t)=>{const{match:{params:n},data:a}=this.props;if(Number(t.id)!==Number(n.id))return;const r="USER.addFavorite"===e?a.NB_FAN+1:a.NB_FAN-1;this.props.updateAlbumFanCount({id:n.id,nbFan:r})}}componentDidMount(){const{appState:e,match:{params:{id:t}},data:n}=this.props;n&&n.FALLBACK_ID&&u.A.replace((0,m.jd)(`/album/${n.FALLBACK_ID}`)),this.props.loadAlbum({id:t,rehydrateData:e?{...e,partial:!1}:void 0}).catch((e=>this.setState({error:e}))),d.A.subscribe(d.A.user.addFavorite,this._updateNbFan),d.A.subscribe(d.A.user.deleteFavorite,this._updateNbFan)}componentDidUpdate(e){const{match:{params:{id:t}},data:n}=this.props;(e.data.ALB_ID&&Number(e.data.ALB_ID)!==Number(t)||n.partial)&&(this.props.loadAlbum({id:t}).catch((e=>this.setState({error:e}))),this.props.tracking&&this.props.tracking.trackEvent()),n.FALLBACK_ID&&u.A.replace((0,m.jd)(`/album/${n.FALLBACK_ID}`))}componentWillUnmount(){(0,I.w8)(),d.A.unsubscribe(d.A.user.addFavorite,this._updateNbFan),d.A.unsubscribe(d.A.user.deleteFavorite,this._updateNbFan)}render(){if(this.state.error)throw this.state.error;const{match:{params:e},data:t}=this.props;if(Number(e.id)!==Number(t.ALB_ID)||t.partial)return i||(i=s.createElement(v.A,null));if(!t.IS_AVAILABLE)return t.FALLBACK_ID?null:l||(l=s.createElement(_.A,null));if(!p.A.isAllowed("public_api_album"))return this._renderLegacy();const n={dataFromStore:t,params:e};return s.createElement(s.Suspense,{fallback:null},s.createElement(L,n))}_renderLegacy(){const{match:{params:e},data:t,shouldExplicitBeHidden:n}=this.props,{id:a,SONGS:r}=t,i={ID:e.id,TYPE:(0,h.Us)(A.Ay.Album)};return s.createElement(S.OJ,{value:{page:"album",entity:"album",entityId:e.id}},s.createElement(E.A,{dataFromStore:t,id:Number(e.id),context:i},s.createElement(b.t,(0,C.Bx)(null,t)),s.createElement(g.A,{id:a,context:i,items:r,shouldExplicitBeHidden:n})))}}).displayName="album",r.defaultProps={appState:void 0},a=r))||a;const x=(0,o.Ng)((({entities:e,user:t},{match:{params:n}})=>({data:(0,y.ce)(e,n),shouldExplicitBeHidden:(0,T.Uw)(t)===N.g})),{loadAlbum:I.eQ,updateAlbumFanCount:I.NZ})(f)},"X/JG":(e,t,n)=>{n.d(t,{A:()=>L});var a,r,i,l,s=n("+9dH"),o=n("17x9"),c=n.n(o),d=n("q1tI"),u=n("TRpf"),m=n("kSUS"),p=n("juqV"),A=n("Wp0Y"),h=n("yyc2"),E=n("H/eQ"),_=n("LOQS"),v=n("HmE0"),b=n("hIIJ"),g=n("sCpb"),I=n("fsGD"),y=n("vF4p"),C=n("6vqc"),T=n("RSbz"),N=n("nN8/");class S extends d.Component{constructor(e){super(e),this._initAds=this._initAds.bind(this),this._checkItems=this._checkItems.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this.state={itemIndex:0,itemWidth:0,containerWidth:0,displayedItemCount:0,hasControlLeft:!1,hasControlRight:!0,mouseIn:!1},this._nodeRef=d.createRef()}getChildContext(){return{layout:I.Pl}}componentDidMount(){this.props.data.length>0&&(this._checkItems(),this._logDisplay(),E.A.subscribe(E.A.layout.adsBackground,this._initAds),E.A.subscribe(E.A.layout.resize,this._checkItems),this._setAutoAnimate())}componentDidUpdate(e,t){const{mouseIn:n}=this.state,{data:a,related:r}=this.props;t.mouseIn!==n&&(n?clearTimeout(this._intervalAutoAnimate):this._setAutoAnimate()),(e.data.length!==a.length||e.related!==r&&a.length>0)&&this._checkItems()}componentWillUnmount(){clearTimeout(this._timeoutRef),this._debounceRef&&this._debounceRef.cancel(),this.props.autoAnimate&&clearTimeout(this._intervalAutoAnimate),E.A.unsubscribe(E.A.layout.adsBackground,this._initAds),E.A.unsubscribe(E.A.layout.resize,this._checkItems)}render(){const{itemIndex:e,itemWidth:t}=this.state,{children:n,related:a,hasMoreItems:r}=this.props,i=e*("rtl"===this.props.langDirection?1:-1)*t,l={transform:`translateX(${i}px)`,msTransform:`translateX(${i}px)`,WebkitTransform:`translateX(${i}px)`},s={};""!==a.target&&""!==a.label&&r&&(s.label=a.label,s.target=a.target);const o=d.Children.map(n,(e=>d.isValidElement(e)?d.cloneElement(e,{viewMore:s}):e));return d.createElement("div",{className:"carousel",ref:this._nodeRef},d.createElement("div",{className:"container"},this._renderHeadings()),d.createElement("div",{className:"container"},d.createElement("div",{className:"carousel-wrapper"},d.createElement("div",{className:"carousel-inner",style:l,onMouseEnter:this._onMouseOver,onMouseLeave:this._onMouseOut},o))))}_renderHeadings(){const{alignment:e,enrichedTitle:t}=this.props,n=(0,p.A)("channel-headings",{"is-centered":"center"===e});return d.createElement("div",{className:n},t?this._renderEnrichedTitle():this._renderTitle(),this._renderControls())}_renderTitle(){const{title:e,related:t,subtitle:n,target:a}=this.props;if(""===e)return null;const r=t.target||a;return d.createElement(N.Mk.Consumer,null,(({dynamicContentlogAction:t})=>d.createElement(b.A,{href:void 0!==r&&""!==r?r:void 0,title:e,subtitle:n,onClick:()=>this._onClickViewAll(t)})))}_renderEnrichedTitle(){const{related:e,target:t,enrichedTitle:n}=this.props,a=e.target||t;return d.createElement(g.A,{href:void 0!==a&&""!==a?a:void 0,enrichedTitle:n})}_onClickViewAll(e){const{module_id:t,pageContext:n,tab:a}=this.props;e({action:N.D$.VIEW_ALL_CLICKED,payload:{module_id:t}}),null!=n&&n.includes("profile_")&&_.A.log({type:"cdp",eventName:"view_all_clicked",customAttributes:{section_name:y.Xw[a],screen_view_name:"profile_recently_played"===n?y.Xw.home:y.Xw[n.replace("profile_","")]}})}_shouldDisplayControls(){const{hasControlLeft:e,hasControlRight:t}=this.state;return e||t}_renderControlRight(){return this._shouldDisplayControls()?d.createElement("div",{className:"carousel-control carousel-next"},d.createElement(v.K0,{"aria-label":(0,A.AP)("Suivant"),isDisabled:!this.state.hasControlRight,icon:"ltr"===this.props.langDirection?a||(a=d.createElement(C.v,null)):r||(r=d.createElement(T.Y,null)),onClick:this._onSlide.bind(this,"right",!0),variant:"ghost"})):null}_renderControlLeft(){return this._shouldDisplayControls()?d.createElement("div",{className:"carousel-control carousel-prev"},d.createElement(v.K0,{"aria-label":(0,A.AP)("Précédent"),isDisabled:!this.state.hasControlLeft,icon:"ltr"===this.props.langDirection?i||(i=d.createElement(T.Y,null)):l||(l=d.createElement(C.v,null)),onClick:this._onSlide.bind(this,"left",!0),variant:"ghost"})):null}_renderControls(){if(!this.props.data.length)return null;let e={};return this.props.autoAnimate&&(e={onMouseEnter:this._onMouseOver,onMouseLeave:this._onMouseOut}),d.createElement("div",(0,s.A)({className:"carousel-controls"},e),this._renderControlLeft(),this._renderControlRight())}_onAutoAnimation(){const{hasControlLeft:e,hasControlRight:t,mouseIn:n}=this.state;!n&&t?this._onSlide("right",t):!n&&e&&this._processNewState(0)}_onMouseOver(){this.setState({mouseIn:!0})}_onMouseOut(){this.setState({mouseIn:!1})}_onSlide(e,t){if(t){const{itemIndex:t,displayedItemCount:n}=this.state,a=t+("left"===e?-1:1)*n;a!==t&&this._processNewState(a)}}_logDisplay(){h.A.log.send("navigation",{event:"onDisplay",properties:{section:this.props.section_id}})}_measureContainerWidth(){return this._nodeRef.current?this._nodeRef.current.querySelector(".carousel-inner").getBoundingClientRect().width:0}_checkItems(){this._debounceRef=(0,m.A)((()=>{if(!this._nodeRef.current)return;const e=this._nodeRef.current.getElementsByClassName("thumbnail-col");if(!e||0===e.length)return;const t=this._measureContainerWidth(),n="margin"+("rtl"===this.props.langDirection?"Right":"Left"),a=e[0].offsetWidth+parseInt(window.getComputedStyle(e[0])[n],10),r=Math.min(e.length,Math.ceil(t/a));this.setState({containerWidth:t,displayedItemCount:r,itemWidth:a}),this._processNewState(this.state.itemIndex)}),300),this._debounceRef()}_processNewState(e){if(!this._nodeRef.current)return;const t=this._nodeRef.current.getElementsByClassName("thumbnail-col"),{displayedItemCount:n}=this.state;e=Math.min(t.length-n,Math.max(0,e)),this.setState({itemIndex:e,hasControlLeft:e>0,hasControlRight:e+n<t.length})}_initAds(){this._checkItems()}_setAutoAnimate(){this.props.autoAnimate&&(this._intervalAutoAnimate=setInterval((()=>{this._onAutoAnimation()}),6e3))}}S.childContextTypes={layout:c().string},S.defaultProps={title:"",subtitle:"",target:"",section_id:"",hasMoreItems:!1,related:{target:"",label:""},options:[],alignment:"center",autoAnimate:!1,context:""};const L=(0,u.Ng)((({user:e})=>({langDirection:e.DIRECTION})))(S)},Q6dJ:(e,t,n)=>{n.d(t,{A:()=>m});var a=n("q1tI"),r=n("juqV"),i=n("GkjM"),l=n("3JOg"),s=n("rYh+");const o={element:"ZzbWE"};var c,d=n("+RX7"),u=n("NSet");const m=({date:e,title:t,subtitle:n,concertId:m,onClick:p,calendarIconSize:A="sm",className:h,locationState:E})=>{const _=`/concert/${m}`;return a.createElement(l.A,null,a.createElement(i.A,{role:"button",to:{pathname:_,state:E},onClick:p,className:(0,r.A)(o.element,h)},a.createElement(d.V,{date:new Date(e),size:A}),a.createElement(u.az,{className:o.cell,flex:"1",flexDirection:"column",px:"spacing.m"},a.createElement(u.DZ,{variant:"heading.xs",noOfLines:1,mb:"spacing.xs",width:"100%"},t),n&&a.createElement(u.EY,{variant:"body.s.default",color:"text.neutral.secondary.default",noOfLines:1,pb:"spacing.xs",width:"100%"},n)),c||(c=a.createElement(s.A,{size:"16"}))))}},"fIC+":(e,t,n)=>{n.d(t,{A:()=>h});var a=n("q1tI"),r=n("Q6dJ"),i=n("/JBK"),l=n("NSet");var o,c=n("TRpf"),d=n("xobL"),u=n("Wp0Y"),m=n("wdFl");const p=({concert:e})=>{const t=(0,c.d4)((e=>e)),n=(0,d.Z0)(t.user);return a.createElement(a.Fragment,null,(e.types.isLivestreamConcert||e.types.isLivestreamFestival)&&(o||(o=a.createElement(i.E,{colorScheme:"red",p:1,mr:1,display:"inline-block"},a.createElement(m.J,null)))),((e,t)=>{const n=new Date(e);return`${new Intl.DateTimeFormat(t,{day:"2-digit",month:"long"}).format(n)} • ${new Intl.DateTimeFormat(t,{hour:"2-digit"}).format(n)}`})(e.startDate,n))},A=({concert:e})=>a.createElement(a.Fragment,null,e.types.isLivestreamConcert||e.types.isLivestreamFestival?(0,u.AP)("concerthub_title_liveondeezer_web"):`${e.venue}, ${e.cityName}, ${e.countryCode}`),h=({concerts:e,onItemClick:t,locationState:n})=>a.createElement(l.xA,{templateColumns:{base:"repeat(auto-fit, minmax(calc(50% - 16px), 1fr))",lg:"repeat(auto-fit, minmax(calc(33% - 16px), 1fr))"},columnGap:4,rowGap:2},e.map(((e,i)=>a.createElement(r.A,{key:e.id,concertId:e.id,date:e.startDate,title:a.createElement(A,{concert:e}),subtitle:a.createElement(p,{concert:e}),onClick:()=>t(e,i),calendarIconSize:"md",className:"ENwNR",locationState:n}))))},y8BT:(e,t,n)=>{n.d(t,{A:()=>u});var a,r=n("q1tI"),i=n("TRpf"),l=n("GkjM"),s=n("Wp0Y"),o=n("WmA5"),c=n("HmE0");class d extends r.Component{constructor(e){super(e),this._onClick=this._onClick.bind(this)}render(){const{userID:e,userLang:t}=this.props,n=(0,s.AP)("Pour profiter du meilleur de Deezer, jetez un œil à nos <a %1$s>Univers</a> ou à <a %2$s>vos Coups de cœur</a>.",{sprintf:[`href="/${t}/channels/explore"`,`href="/${t}/profile/${e}/loved"`]});return r.createElement("div",{className:"naboo-not-found"},a||(a=r.createElement("div",{className:"title"},"404")),r.createElement("div",{className:"unavailable"},(0,s.AP)("Désolé, nous ne trouvons pas la page que vous recherchez")),r.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:n},onClick:this._onClick}),r.createElement(c.$n,{as:l.A,to:`/${this.props.userLang}/`},(0,s.AP)("Explorer")))}_onClick(e){const t=e.target;"a"===t.tagName.toLowerCase()&&(o.A.replace(t.getAttribute("href")),e.preventDefault())}}const u=(0,i.Ng)((({user:e})=>({userID:e.id,userLang:e.SETTING_LANG})))(d)},sCpb:(e,t,n)=>{n.d(t,{A:()=>d});var a=n("q1tI"),r=n("NSet"),i=n("yRJD"),l=n("9OcB"),s=n("GkjM"),o=n("hz5U"),c=n("5G9X");const d=({enrichedTitle:e,href:t})=>{var n;let d;if(null!==(n=e.pictures[0])&&void 0!==n&&n.md5){const t=o.A.getCoverType(e.type);d=o.A.getImageSrc(t,e.pictures[0].md5,48,48,"none")}return a.createElement(r.so,{direction:"row",align:"center"},a.createElement(s.A,{to:t,me:"spacing.s"},e.type===c.Ay.Artist||e.type===c.Ay.User?a.createElement(i.eu,{src:d,name:e.title,size:"size.xl",variant:"neutral","data-testid":"dynamic_page_section_image"}):a.createElement(l.A,{src:d,type:e.type,alt:e.title,size:"size.xl","data-testid":"dynamic_page_section_image"})),a.createElement(r.so,{direction:"column",w:"100%"},a.createElement(r.EY,{variant:"body.s.default",mb:"spacing.xs",color:"text.neutral.secondary.default","data-testid":"dynamic_page_section_lead_in",noOfLines:1,maxW:"90%"},e.lead_in),a.createElement(r.DZ,{variant:"heading.m",noOfLines:1,maxW:"90%","data-testid":"dynamic_page_section_title"},a.createElement(s.A,{to:t,_hover:{textDecoration:"underline"},_active:{textDecoration:"underline"},_focus:{textDecoration:"underline"}},e.title))))}},PMxo:(e,t,n)=>{n.d(t,{A:()=>H});var a=n("q1tI"),r=n("8m9I"),i=n("1Pdy"),l=n("AfN5"),s=n("STEc");const o={TITLE:{SIZE:s.uq.Full},ARTIST:{SIZE:s.uq.PercentXs},DURATION:{SIZE:s.uq.sm},POPULARITY:{BREAKPOINT:s.x1.lg,SIZE:s.uq.sm},SELECT:{ALIGN:s.uP.Right,SIZE:s.uq.sm}};var c=n("xCFc"),d=n("juqV");const A=({index:e,number:t,style:n})=>{const r=(0,d.A)("nqfmm",{tWqeh:0===e});return a.createElement("div",{"aria-rowindex":e+1,role:"row",className:r,style:n},a.createElement("div",{className:"LvPr0"},"CD ",t))};var h,E,_,v,b=n("BP9I"),g=n("1Uwb"),I=n("fSLK"),y=n("lXQd"),C=n("o+h5"),T=n("0JBE"),N=n("pQlO"),S=n("0oF4"),L=n("r4LN"),f=n("wkd/"),x=n("LGn+"),D=n("tgyz"),w=n("Wp0Y"),R=n("CxZw"),P=n("5G9X"),k=n("SehT"),B=n("X/h3");const F=(0,a.memo)((0,T.S2)((({data:e,index:t,shouldDisplayFeaturing:n=!1,style:r})=>{const{context:i,container:l,loadingStatus:s,isOrderable:d,lastSeen:u,shouldExplicitBeHidden:m}=(0,c.$A)(),{playerStatus:p,play:A,isItemLoadedInPlayer:b}=(0,D.A)(i,l,s.isFullyFetched),I=e.toDisplay[t],T=I.item.hasExplicitLyrics&&m,F=(0,a.useCallback)(((t,n)=>{A({playIndex:n,playItems:e.toPlay,isTrackActive:t})}),[e.toPlay,A]),O=(0,a.useCallback)((t=>{A({notify:!1,playIndex:t,playItems:e.toPlay,playLyrics:!0})}),[e.toPlay,A]);return a.createElement(g.A.Row,{style:r,uuid:I.uuid,id:I.item.id,index:I.index,isActive:b(I.item)&&p.isSameContext,isOrderable:d,isReadable:I.item.right===R.A.READABLE,isRestrictedByExplicit:T,isUnseen:(0,B.g)(u,I.item.date),type:I.item.type,isDraggable:!0},a.createElement(x.A,{size:o.TITLE.SIZE},a.createElement(x.A.Play,{ariaLabel:(0,w.AP)("generic_action_playsongXbyartistX_web",{sprintf:[I.item.title,(0,y.A)(I,"item.artists[0].name","")]}),hasExplicitCover:I.item.parent.hasExplicitCover,onPlayItems:F,pictureUrl:I.item.cover(C.r4).url}),h||(h=a.createElement(x.A.Unseen,null)),E||(E=a.createElement(x.A.Download,null)),a.createElement(x.A.PlayableLabel,{hasExplicitLyrics:I.item.hasExplicitLyrics,label:`${I.item.number||0}. ${I.item.title}`,onPlayItems:F,tooltipText:(0,k.Y)(I.item,m)}),a.createElement(g.A.IconGroup,null,a.createElement(x.A.ShowLyrics,{item:I.item,lyricsId:I.item.lyricsId,onPlayLyrics:O}),_||(_=a.createElement(x.A.AddToFeedback,null)),a.createElement(x.A.OpenContextMenu,{item:I.item}))),n&&a.createElement(g.A.CellBody,{size:o.ARTIST.SIZE},a.createElement(L.A,{links:I.item.featuring.map((e=>({...e,type:P.Ay.Artist})))})),a.createElement(g.A.CellBody,{size:o.DURATION.SIZE},a.createElement(N.A,{duration:I.item.duration})),a.createElement(g.A.CellBody,{breakpoint:o.POPULARITY.BREAKPOINT,size:o.POPULARITY.SIZE},a.createElement(S.A,{rank:I.item.popularity})),a.createElement(g.A.CellBody,{align:o.SELECT.ALIGN,size:o.SELECT.SIZE},v||(v=a.createElement(f.A,null))))}),(({index:e,data:t})=>({item:P.Ay.Track,itemIndex:e,itemId:t.toDisplay[e].item.id}))),I.t7);var q,z,G,O=n("ZH8F"),M=n("dalA"),W=n("ftFY"),U=n("7u2F");const H=({context:e,id:t,items:n,shouldExplicitBeHidden:s=!1})=>{const d={id:t,type:l.Kk.ALBUM},u=(0,a.useRef)(null),{manageItems:m,tableItems:p}=(0,W.A)(t,n,e),h=(0,U.A)(p,e),{playerStatus:E,play:_}=(0,D.A)(e,d,!0),v=p.all.some((e=>e.item.featuring.length>0)),I=(e=>e.some((e=>null!==e.item.disk&&1!==e.item.disk)))(p.all);(0,M.A)(O.g.PLAY,(()=>{_({playItems:p.toPlay})}),e);const y=e=>a.createElement(F,{key:p.toDisplay[e].uuid,data:p,index:e,shouldDisplayFeaturing:v,style:{height:i.F4.md}}),C=(0,c.Ay)({container:d,context:e,manageItems:m,playerStatus:E,select:h,shouldExplicitBeHidden:s});return a.createElement(c.ru,{value:C},a.createElement(g.A,{tableRef:u,rowCount:p.toDisplay.length},a.createElement(g.A.Header,null,a.createElement(g.A.CellHead,{size:o.TITLE.SIZE},(0,w.AP)("datagrid_title_trackUPP_web")),v&&a.createElement(g.A.CellHead,{size:o.ARTIST.SIZE},(0,w.AP)("datagrid_title_featuredartistsUPP_web")),a.createElement(g.A.CellHead,{ariaLabel:(0,w.AP)("sortingmenu_title_duration_web"),size:o.DURATION.SIZE},q||(q=a.createElement(r.m,null))),a.createElement(g.A.CellHead,{breakpoint:o.POPULARITY.BREAKPOINT,size:o.POPULARITY.SIZE},(0,w.AP)("datagrid_title_popularityabbrevUPP_web")),a.createElement(g.A.CellHead,{align:o.SELECT.ALIGN,size:o.SELECT.SIZE},z||(z=a.createElement(b.A,null)))),a.createElement(g.A.Body,null,p.toDisplay.map(((e,t)=>{return I&&(n=e.item,(r=t>0?p.toDisplay[t-1].item:null)?r.disk!=n.disk:null!==n.disk)&&e.item.disk?a.createElement(a.Fragment,{key:`cd-${e.item.disk}`},a.createElement(A,{index:t,number:e.item.disk,style:{height:i.F4.md}}),y(t)):y(t);var n,r})))),0===p.toDisplay.length&&(G||(G=a.createElement(g.A.EmptyContent,null))))}},"rOn+":(e,t,n)=>{n.d(t,{A:()=>o});var a=n("q1tI"),r=n("0oT0"),i=n("N67Q"),l=n("1h7S"),s=n("cFUB");const o=()=>{const{context:e,id:t,isLoveable:n,isSponsored:o,type:c}=a.useContext(l.PK);return n?a.createElement(i.A,null,a.createElement(r.A,{action:s.Hj.FAVORITE,color:!0===o?s.cW.LIGHT:s.cW.DEFAULT,context:e,id:t,type:c})):null}},KJ1h:(e,t,n)=>{n.d(t,{A:()=>o});var a=n("q1tI"),r=n("0oT0"),i=n("N67Q"),l=n("1h7S"),s=n("cFUB");const o=()=>{const{context:e,id:t,isDownloadable:n,type:o}=a.useContext(l.PK);return n?a.createElement(i.A,null,a.createElement(r.A,{action:s.Hj.DOWNLOAD,context:e,id:t,type:o})):null}},C53p:(e,t,n)=>{n.d(t,{A:()=>p});var a,r=n("q1tI"),i=n("TRpf"),l=n("HmE0"),s=n("EPmj"),o=n("Wp0Y"),c=n("TqF5"),d=n("N67Q"),u=n("Jfek"),m=n("1h7S");const p=()=>{const{id:e,isShareable:t,containerData:n,context:p,shareType:A,isSponsored:h}=r.useContext(m.PK),E=(0,i.wA)();return t&&A?r.createElement(d.A,null,r.createElement(l.K0,{"aria-haspopup":!0,"aria-label":(0,o.AP)("Partager"),colorScheme:!0===h?"white":"neutral",icon:a||(a=r.createElement(s.l,null)),onClick:()=>{E((0,c.qf)({name:u.DN,props:{componentType:u.Wg.directShareMasthead,context:p,data:n,id:e,type:A}}))},variant:"ghost"})):null}},lpJY:(e,t,n)=>{n.d(t,{A:()=>a});const a=n("RqX2").A},G929:(e,t,n)=>{n.d(t,{t:()=>ie,A:()=>le});var a=n("+9dH"),r=(n("WpbS"),n("q1tI")),i=n("TRpf"),l=n("Wp0Y"),s=n("3nMj"),o=n("23Qi"),c=n("Qmjy"),d=n("5G9X"),u=n("p/gB"),m=n("xobL"),p=n("/JBK"),A=n("1lpQ"),h=n("2NhJ"),E=n("oq/a"),_=n("zJSK"),v=n("JKL/"),b=n("wRgy"),g=n("WQvr"),I=n("lDkB"),y=n("uSSP"),C=n("B3z3"),T=n("WY4A"),N=n("Ozpl"),S=n("CTxd"),L=n("X6oL"),f=n("juqV"),x=n("GkjM");var P;const k=(0,L.Ay)()(P=class extends r.Component{constructor(...e){super(...e),this._onConversionClick=()=>{this.props.tracking&&this.props.tracking.trackEvent({eventaction:"click-windowing-conversion-btn",event:"click",eventcategory:"album",eventlabel:"windowing-conversion-btn"})}}render(){const{enabled:e,dateAds:t}=this.props,n=e&&t?(0,l.AP)("windowing_title_premiumexclusivecontentwithdate_web",{sprintf:[(0,s.A)(t)]}):(0,l.AP)("windowing_text_premiumexclusivecontentnodate_web"),a=(0,f.A)("btn","Ku2sH");return r.createElement("div",{className:"gnm2d"},n,r.createElement(x.A,{className:a,to:"/offers?origin=windowing",target:"_blank",onClick:this.props.tracking?this._onConversionClick:void 0},r.createElement("span",{className:"x_s23"},(0,l.AP)("windowing_action_upgradenow_web"))))}})||P;var B,F,O,M,W,U=n("Jfek"),q=n("NNA0"),z=n("tZCQ"),G=n("1h7S"),H=n("cXQW"),J=n("rOn+"),K=n("KJ1h"),Y=n("Ye48"),X=n("Eiyd"),V=n("C53p");const $=({id:e,context:t})=>{const n=(0,i.d4)((t=>(0,q.ce)(t.entities,{id:e}))),a=(0,i.d4)((e=>(0,m.Jt)(e.user))),l=(0,G.Ay)({containerData:n,context:t,id:e,isDownloadable:a,isLoveable:!0,isShareable:!0,type:d.Ay.Album,shareType:U.Gb.album});return r.createElement(G.PK.Provider,{value:l},r.createElement(H.e,{size:"medium",gap:z.A.isAllowed("revamp2023")?"spacing.xs":"12px",spacing:0,"data-testid":"toolbar"},B||(B=r.createElement(X.A,null)),F||(F=r.createElement(J.A,null)),O||(O=r.createElement(V.A,null)),M||(M=r.createElement(K.A,null)),W||(W=r.createElement(Y.A,null))))},Q=e=>Boolean(e&&e.windowingData),Z=(e,t,n)=>(!t||!n)&&Q(e),j=(e,t)=>!(!t||!t.releaseDate)&&new Date(t.releaseDate).getTime()/1e3+2592e3>e;var ae,re=n("0JBE");class ie extends r.Component{render(){const{picture:e,name:t,id:n}=this.props;return e?r.createElement(re.OJ,{value:{item:d.Ay.Album,itemId:n}},r.createElement(h.Ay,null,this._renderThumbnail(),r.createElement(E.A,null,this._renderSticker(),r.createElement(_.A,null,t),this._renderContributors(),this._renderConversionBanner(),this._renderInfos())),r.createElement(v.A,null,this._renderToolbar())):null}_renderThumbnail(){var e;const{name:t,picture:n}=this.props;return n?r.createElement(b.A,{alt:t,src:null===(e=n.urls)||void 0===e||null===(e=e.large)||void 0===e?void 0:e[0],isExplicitCover:Boolean(n.isExplicit),type:d.Ay.Album,"data-testid":"album-cover"}):null}_renderContributors(){const{contributors:e}=this.props;return e&&e.length?r.createElement(g.A,null,this._renderContributorsThumbnail(),this._renderContributorsName()):null}_renderContributorsThumbnail(){const{contributors:e}=this.props;return e&&e.length?r.createElement(I.A,{className:"kICER"},e.slice(0,10).map((e=>e.picture?r.createElement(y.A,{key:e.id,text:e.name,to:`/artist/${e.id}`,className:"t62He"},r.createElement(S.Ay,(0,a.A)({},e.picture,{height:28,width:28,rounded:!0,type:d.Ay.Artist}))):null)).reverse()):null}_renderContributorsName(){const{contributors:e}=this.props;return e&&e.length?r.createElement("div",null,e.slice(0,10).map((e=>r.createElement(C.A,{key:`artist_${e.id}`,to:`/artist/${e.id}`,whiteSpace:"nowrap"},e.name))).reduce(((e,t)=>[e,", ",t]))):null}_renderConversionBanner(){const{displayWindowingBanner:e,windowingData:t}=this.props;return e?r.createElement(k,t):null}_renderInfos(){const{displayWindowingBanner:e}=this.props;return t={...this.props},!Boolean(Q(t)&&!t.windowingData.isStreamable)&&e?null:r.createElement(T.A,null,this._renderTracksCount(),this._renderDuration(),this._renderReleaseDate(),this._renderFans());var t}_renderTracksCount(){const{tracksCount:e}=this.props;return e?r.createElement(N.A,null,(0,l.WI)("%s titre","%s titres",{count:e,sprintf:[(0,o.A)(e)]})):null}_renderFans(){const{fansCount:e}=this.props;return e?r.createElement(N.A,null,(0,l.WI)("%s fan","%s fans",{count:e,sprintf:[(0,o.A)(e)]})):null}_renderReleaseDate(){const{releaseDate:e,windowingDateForAds:t}=this.props;return!e||t&&t.length?null:r.createElement(N.A,null,(0,s.A)(e))}_renderDuration(){const{duration:e}=this.props;return e?r.createElement(N.A,null,(0,c.A)(e)):null}_renderSticker(){const{isNew:e,isExplicit:t}=this.props;if(!e&&!Q({...this.props})&&!t)return null;let n,a;return t?r.createElement("div",{className:"vhfKF"},ae||(ae=r.createElement(A.A,null))):(e&&(n=(0,l.AP)("NOUVEAU"),a="background.brand.orange"),Q({...this.props})&&(n=(0,l.AP)("windowing_title_PREMIUM_web"),a="background.brand.purple"),r.createElement(p.E,{bg:a,color:"white"},n))}_renderToolbar(){const{id:e}=this.props;return r.createElement($,{context:{ID:e,TYPE:(0,u.Us)(d.Ay.Album)},id:e})}}const le=(0,i.Ng)(((e,t)=>{return{isNew:j((0,m.mI)({SERVER_TIMESTAMP:e.user.SERVER_TIMESTAMP,clientTimestampDelta:e.user.clientTimestampDelta}),{...t}),displayWindowingBanner:Z({...t},(0,m.UJ)(e.user),(0,m.jQ)(e.user)),windowingDateForAds:(n={...t},a=(0,m.UJ)(e.user),r=(0,m.jQ)(e.user),Z(n,a,r)&&n.windowingData&&n.windowingData.enabled&&n.windowingData.dateAds||"")};var n,a,r}))(ie)},ailv:(e,t,n)=>{n.d(t,{SP:()=>r,U$:()=>c,Xw:()=>l,rc:()=>i,uV:()=>o,v5:()=>s});var a=n("LOQS");let r=function(e){return e.CONCERT="concert",e.CONCERT_WITH_LIVESTREAM="concert_with_livestream",e.FESTIVAL="festival",e.FESTIVAL_WITH_LIVESTREAM="festival_with_livestream",e}({}),i=function(e){return e.CLICK_CONCERT="click_concert",e.BUY_TICKET="buy_ticket",e.SEARCH="search",e.REMINDER="put_concert_reminder",e}({}),l=function(e){return e.CONCERT_HUB_FOR_YOU="concert_hub_for_you",e.CONCERT_DETAIL="concert_detail",e.ARTIST="artist",e.VIEW_ALL="view_all_concerts",e.ALBUM="album",e}({}),s=function(e){return e.CITY="city",e.CONCERT="concert",e.ARTIST="artist",e.ALBUM="album",e}({});const o=e=>{a.A.log({type:"cdp",eventName:"concert_hub_used",customAttributes:e})},c=e=>null!=e&&e.isConcert?r.CONCERT:null!=e&&e.isFestival?r.FESTIVAL:null!=e&&e.isLivestreamConcert?r.CONCERT_WITH_LIVESTREAM:null!=e&&e.isLivestreamFestival?r.FESTIVAL_WITH_LIVESTREAM:void 0},"0O3b":(e,t,n)=>{function a(e){return(e||[]).reduce(((e,t)=>(t.node&&e.push(t.node),e)),[])}n.d(t,{A:()=>a}),n("WpbS")},q7N2:(e,t,n)=>{n.d(t,{Bx:()=>c});var a=n("dTBB"),r=n("5G9X"),i=n("MWM2"),l=n("kPsn"),s=n("CyAC"),o=n("sAMA");const c=(e,t)=>{if(!(0,a.H)(t))throw new Error("Legacy album has wrong format");const n={id:(null==e?void 0:e.id)||t.ALB_ID,name:(null==e?void 0:e.displayTitle)||t.ALB_TITLE,contributors:(0,i.Z)(t.ARTISTS,(null==e?void 0:e.contributors)&&(null==e?void 0:e.contributors.edges)),picture:(0,l.jg)(r.Ay.Album,null==e?void 0:e.cover,t),fansCount:t.NB_FAN,tracksCount:t.SONGS.length,duration:(null==e?void 0:e.duration)||t.DURATION,releaseDate:(null==e?void 0:e.releaseDate)||t.RELEASE_DATE,isExplicit:void 0!==(null==e?void 0:e.isExplicit)&&null!==(null==e?void 0:e.isExplicit)?null==e?void 0:e.isExplicit:(c=t,!!c&&(0,s.Q3)(c)!==o.yC)};var c;return t.WINDOWING_DATA?{...n,windowingData:{enabled:t.WINDOWING_DATA.ENABLED,dateAds:t.WINDOWING_DATA.DATE_ADS,isStreamable:t.WINDOWING_DATA.IS_STREAMABLE}}:n}}}]);