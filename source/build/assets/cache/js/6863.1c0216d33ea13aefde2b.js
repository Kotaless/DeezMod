"use strict";(self.webpackJsonpDeezer=self.webpackJsonpDeezer||[]).push([[6863],{"/uRm":(e,t,a)=>{a.d(t,{F:()=>l});let l=function(e){return e.ONBOARDING="ON_BOARDING",e.ONBOARDING_LEGACY="ON_BOARDING_LEGACY",e.SELECT_PROFILE="SELECT_PROFILE",e.BRIDGED_WEBVIEW="BRIDGED_WEBVIEW",e.PLAYLIST_ASSISTANT="PLAYLIST_ASSISTANT",e}({})},iphN:(e,t,a)=>{a.d(t,{A:()=>re});var l=a("q1tI"),n=a("M3gt"),i=a("8m9I"),r=a("NSet"),s=a("iiSH"),o=a("AfN5"),c=a("STEc");const d=a("DjLa").WR.PLAYLIST,m={TITLE:{SIZE:c.uq.Full},ARTIST:{SIZE:c.uq.PercentXs},PARENT:{BREAKPOINT:c.x1.md,SIZE:c.uq.PercentXs},DATE:{BREAKPOINT:c.x1.md,SIZE:c.uq.xl},DURATION:{SIZE:c.uq.sm},POPULARITY:{BREAKPOINT:c.x1.xl,SIZE:c.uq.sm},SELECT:{ALIGN:c.uP.Right,SIZE:c.uq.sm}};var A,u,E,p,I=a("xCFc"),y=a("kSle"),S=a("xLtY"),P=a("BP9I"),T=a("1Uwb"),b=a("XLml"),g=a("fSLK"),h=a("lXQd"),_=a("o+h5"),L=a("0JBE"),x=a("/G5K"),R=a("pQlO"),f=a("0oF4"),C=a("r4LN"),N=a("wkd/"),O=a("LGn+"),k=a("+UU7"),v=a("tgyz"),D=a("Wp0Y"),w=a("CxZw"),B=a("5G9X"),F=a("SehT"),U=a("X/h3");const Y=(0,l.memo)((0,L.S2)((({data:e,index:t,style:a})=>{const{context:n,container:i,loadingStatus:r,isOrderable:s,lastSeen:o,shouldExplicitBeHidden:c}=(0,I.$A)(),{playerStatus:d,play:y,isItemLoadedInPlayer:S}=(0,v.A)(n,i,r.isFullyFetched),{onRemoveTrack:P,onReplaceTrack:b}=(0,k.A)(i.id),g=e.toDisplay[t],L=g.item.hasExplicitLyrics&&c,Y=(0,l.useCallback)(((t,a)=>{y({playIndex:a,playItems:e.toPlay,isTrackActive:t})}),[e.toPlay,y]),Z=(0,l.useCallback)((t=>{y({notify:!1,playIndex:t,playItems:e.toPlay,playLyrics:!0})}),[e.toPlay,y]);return l.createElement(T.A.Row,{style:a,uuid:g.uuid,id:g.item.id,index:g.index,isActive:S(g.item)&&d.isSameContext,isOrderable:s,isReadable:g.item.right===w.A.READABLE,isRestrictedByExplicit:L,isUnseen:(0,U.g)(o,g.item.date),type:g.item.type,isDraggable:!0},l.createElement(O.A,{size:m.TITLE.SIZE},l.createElement(O.A.Play,{ariaLabel:(0,D.AP)("generic_action_playsongXbyartistX_web",{sprintf:[g.item.title,(0,h.A)(g,"item.artists[0].name","")]}),hasExplicitCover:g.item.parent.hasExplicitCover,onPlayItems:Y,pictureUrl:g.item.cover(_.r4).url}),A||(A=l.createElement(O.A.Unseen,null)),u||(u=l.createElement(O.A.Download,null)),l.createElement(O.A.PlayableLabel,{hasExplicitLyrics:g.item.hasExplicitLyrics,label:g.item.title,onPlayItems:Y,tooltipText:(0,F.Y)(g.item,c)}),l.createElement(T.A.IconGroup,null,l.createElement(O.A.OpenReplaceItem,{item:g.item,onReplaceTrack:b,onRemoveTrack:P}),l.createElement(O.A.ShowLyrics,{item:g.item,lyricsId:g.item.lyricsId,onPlayLyrics:Z}),E||(E=l.createElement(O.A.AddToFeedback,null)),l.createElement(O.A.OpenContextMenu,{item:g.item}))),l.createElement(T.A.CellBody,{size:m.ARTIST.SIZE},l.createElement(C.A,{links:g.item.artists.map((e=>({...e,type:B.Ay.Artist})))})),l.createElement(T.A.CellBody,{breakpoint:m.PARENT.BREAKPOINT,size:m.PARENT.SIZE},l.createElement(C.A,{links:[{...g.item.parent,type:B.Ay.Album}]})),l.createElement(T.A.CellBody,{breakpoint:m.DATE.BREAKPOINT,size:m.DATE.SIZE},l.createElement(x.A,{date:1e3*g.item.date})),l.createElement(T.A.CellBody,{size:m.DURATION.SIZE},l.createElement(R.A,{duration:g.item.duration})),l.createElement(T.A.CellBody,{breakpoint:m.POPULARITY.BREAKPOINT,size:m.POPULARITY.SIZE},l.createElement(f.A,{rank:g.item.popularity})),l.createElement(T.A.CellBody,{align:m.SELECT.ALIGN,size:m.SELECT.SIZE},p||(p=l.createElement(N.A,null))))}),(({index:e,data:t})=>({item:B.Ay.Track,itemIndex:e,itemId:t.toDisplay[e].item.id}))),g.t7);var Z,K=a("7Gye"),z=a("TRpf"),G=a("+dDc"),q=a("nxAS"),H=a("/uRm");const X=({playlistId:e})=>{const{IS_PERSONAL:t,IS_COLLABORATIVE:a,IS_LOVETRACKS:n}=(0,z.d4)((t=>(0,G.lS)(t.entities,{id:e,currentUserId:t.user.id}))),i=(0,z.wA)();return e?!t&&!a||n?null:l.createElement(r.so,{role:"button",gap:"spacing.s",alignItems:"center",padding:"spacing.s",onClick:()=>{i((0,q.J2)({name:H.F.PLAYLIST_ASSISTANT,data:{playlistId:e,hideLogo:!0}}))},_hover:{bg:"background.neutral.tertiary.hovered",cursor:"pointer"},bg:"background.neutral.primary.default"},l.createElement(r.so,{alignItems:"center",justifyContent:"center",bg:"background.neutral.tertiary.default",borderRadius:"2xs",height:`${_.r4.height}px`,width:`${_.r4.width}px`},Z||(Z=l.createElement(K.c,{color:"icon.neutral.secondary.default"}))),l.createElement(r.EY,{variant:"body.s.default",paddingX:"spacing.s",_hover:{textDecoration:"underline"}},(0,D.AP)("playlistpage_action_addtracks_web"))):null};var W,Q,J,M,V,j,$=a("ZH8F"),ee=a("dalA"),te=a("3AbJ"),ae=a("ftFY"),le=a("7u2F"),ne=a("EBWn"),ie=a("tZCQ");const re=({context:e,hasFilter:t=!0,isFullyFetched:a,isPersonalFavoritesSongs:c=!1,items:A,lastSeen:u,nextFetchDataIndex:E,onFetch:p,onReorder:g,options:h=[],playlistId:_,shouldExplicitBeHidden:L=!1,total:x})=>{const R={id:_,type:o.Kk.PLAYLIST},f=(0,l.useRef)(null),{loadingStatus:C,fetchNext:N,fetchAll:O}=(0,te.A)(p,_,a,E,e,s.XQ),{manageItems:k,tableItems:w}=(0,ae.A)(_,A,e,{fetchAll:O,sortStorageKey:d}),{playerStatus:B,play:F}=(0,v.A)(e,R,a),U=(0,ne.A)(_,w,e,g),Z=(0,le.A)(w,e,O);(0,ee.A)($.g.PLAY,(()=>{F({playItems:w.toPlay})}),e),(0,ee.A)($.g.FILTER,(e=>{t||k.action.filter(e.query||"")}),e);const K=(0,I.Ay)({container:R,context:e,options:h,isPersonalFavoritesSongs:c,lastSeen:u,loadingStatus:C,manageItems:k,order:U,playerStatus:B,select:Z,shouldExplicitBeHidden:L});return l.createElement(I.ru,{value:K},!c&&t?l.createElement(r.so,{alignItems:"center",mt:"spacing.xl",mb:"spacing.2xl"},l.createElement(y.A,{playlistId:_,context:e}),W||(W=l.createElement(r.so,{justifyContent:"flex-end",ms:"auto"},l.createElement(S.A,null)))):t&&(Q||(Q=l.createElement(S.A,null))),l.createElement(T.A,{tableRef:f,rowCount:x},l.createElement(T.A.Header,null,l.createElement(T.A.CellHead,{size:m.TITLE.SIZE,sortPath:"item.title"},(0,D.AP)("datagrid_title_trackUPP_web")),l.createElement(T.A.CellHead,{size:m.ARTIST.SIZE,sortPath:"item.artist.name"},(0,D.AP)("datagrid_title_artistUPP_web")),l.createElement(T.A.CellHead,{breakpoint:m.PARENT.BREAKPOINT,size:m.PARENT.SIZE,sortPath:"item.parent.name"},(0,D.AP)("datagrid_title_albumUPP_web")),l.createElement(T.A.CellHead,{breakpoint:m.DATE.BREAKPOINT,size:m.DATE.SIZE,sortPath:"item.date"},(0,D.AP)("datagrid_title_addedtrackUPP_web")),l.createElement(T.A.CellHead,{ariaLabel:(0,D.AP)("sortingmenu_title_duration_web"),size:m.DURATION.SIZE,sortPath:"item.duration"},J||(J=l.createElement(i.m,null))),l.createElement(T.A.CellHead,{breakpoint:m.POPULARITY.BREAKPOINT,size:m.POPULARITY.SIZE,sortPath:"item.popularity"},l.createElement("span",null,(0,D.AP)("datagrid_title_popularityabbrevUPP_web"))),l.createElement(T.A.CellHead,{align:m.SELECT.ALIGN,size:m.SELECT.SIZE},M||(M=l.createElement(P.A,null)))),l.createElement(T.A.Body,null,!ie.A.isAllowed("playlist_assistant_end_of_tracklist")&&l.createElement(X,{playlistId:_}),l.createElement(n.A,{isItemLoaded:e=>e<A.length-s.Hs,itemCount:w.toDisplay.length,loadMoreItems:N,threshold:s.Hs},(({onItemsRendered:e,ref:t})=>l.createElement(b.A,{onItemsRendered:e,tableRef:f,items:w,ref:t},Y))),V||(V=l.createElement(T.A.RowLoader,null)))),0===w.toDisplay.length&&(j||(j=l.createElement(T.A.EmptyContent,null))))}},xLtY:(e,t,a)=>{a.d(t,{A:()=>d});var l=a("q1tI"),n=a("kSUS"),i=a("lXQd"),r=a("Wp0Y"),s=a("NSet"),o=a("Z9kq"),c=a("xCFc");const d=({placeholder:e=(0,r.AP)("search_action_searchwithintracks_web")})=>{const{manageItems:t,loadingStatus:a}=l.useContext(c.Gt);if(!t||"function"!=typeof t.action.filter)return null;const d=(0,n.A)((e=>{t.action.filter((0,i.A)(e,"target.value",""))}),500);return l.createElement(s.so,{flex:"1",ms:"spacing.m",my:0,w:{md:"375px",base:"320px"}},l.createElement(o.D,{isDisabled:a.isLoadingAll,onChange:d,size:"medium",placeholder:e}))}},"+UU7":(e,t,a)=>{a.d(t,{A:()=>s}),a("/eM8");var l=a("TRpf"),n=a("Wp0Y"),i=a("fkXJ"),r=a("eq2Y");const s=e=>{const t=(0,l.wA)();return{onReplaceTrack:(a,l)=>new Promise(((s,o)=>{t((0,r.Ct)({playlistId:e,selectedSong:l.legacy,oldSongId:a.id})).then(s).catch((e=>{!1===e&&(0,i.A)({body:(0,n.AP)("playlist_action_tracksalreadyaddedtotheplaylist_web")}),o(e)}))})),onRemoveTrack:a=>new Promise(((l,n)=>{t((0,r.Vc)({playlist_id:e,songs:[[a.id,0]],context:{}})).then(l).catch(n)}))}}},EBWn:(e,t,a)=>{a.d(t,{A:()=>o});var l=a("Oqsq"),n=a("lXQd"),i=a("nLzw"),r=a("1Pdy"),s=a("t08u");const o=(e,t,a,o)=>{const{triggerTracking:c}=(0,s.A)(a.TYPE),d={},m=t.toDisplay.map((e=>((0,l.A)(d,e.uuid,e.item.id),e.uuid)));return(t,a,l)=>{if("function"!=typeof o)return;const s=m.filter((e=>!t.includes(e)));let A=0;if(t.includes(a)){for(A=m.indexOf(a);t.includes(m[A])&&A>0;)A--;A>0&&(A+=1)}else A=s.indexOf(a),A+=l===r.Nz.TOP?0:1;var u;s.splice(A,0,...t),(0,i.A)(s,m)||(o({id:e,order:(u=s,u.map((e=>(0,n.A)(d,e))))}),c({action:"dragdrop",eventaction:t.length>1?"dragdrop-multi":"dragdrop-single"}))}}},kSle:(e,t,a)=>{a.d(t,{A:()=>w});var l,n=a("q1tI"),i=a("TRpf"),r=a("Jfek"),s=a("+dDc"),o=a("xobL"),c=a("5G9X"),d=a("1h7S"),m=a("cXQW"),A=a("rOn+"),u=a("KJ1h"),E=a("TqF5"),p=a("Wp0Y"),I=a("HmE0"),y=a("ZUSG"),S=a("N67Q"),P=a("aoCz");const T=()=>{const{id:e,isEditable:t}=n.useContext(d.PK),a=(0,i.wA)();return t?n.createElement(S.A,null,n.createElement(I.K0,{"aria-haspopup":!0,"aria-label":(0,p.AP)("generic_action_edit_web"),icon:l||(l=n.createElement(y.r,null)),onClick:()=>{a((0,E.qf)({name:"PLAYLIST_ASSISTANT",props:{type:P.F.EDITION,playlistId:e}}))},variant:"ghost"})):null};var b=a("Ye48"),g=a("Eiyd"),h=a("C53p"),_=a("D/zM"),L=a("+pY+");const x=class{constructor(e){this._counter=void 0,this._counter=new _.A({id:L.Ps.LAUNCH_MUSICQUIZ_FROM_PLAYLIST_PAGE,tags:e})}log(){this._counter.increment(),this._counter.send()}};var R,f=a("A2sV"),C=a("tZCQ"),N=a("BVS8"),O=a("/o+9"),k=a("GkjM");const v=()=>{var e;const{id:t,context:a}=(0,n.useContext)(d.PK),{data:l}=(0,f.Hi1)({variables:{playlistId:t}});return null!=l&&null!==(e=l.playlist)&&void 0!==e&&e.isBlindTestable?!1===C.A.isAllowed("contextual_menu_blindtest")?null:n.createElement(S.A,null,n.createElement(O.m,{label:(0,p.AP)("contextualmenu_title_playXfeaturename_web"),"aria-label":(0,p.AP)("contextualmenu_title_playXfeaturename_web")},n.createElement(I.K0,{as:k.A,to:`/game/blindtest/playlist/${t}?context=${a.TYPE}`,"aria-haspopup":!0,"aria-label":(0,p.AP)("contextualmenu_title_playXfeaturename_web"),icon:R||(R=n.createElement(N.Q,null)),onClick:()=>{new x({playlist_id:t}).log()},variant:"ghost"}))):null};var D;const w=({playlistId:e,context:t,isSponsored:a=!1})=>{const l=(0,i.d4)((t=>(0,s.lS)(t.entities,{id:e,currentUserId:t.user.id}))),E=(0,i.d4)((e=>(0,o.Jt)(e.user))),p=(0,d.Ay)({containerData:l,context:t,id:e,isDownloadable:E,isEditable:l.IS_PERSONAL,isLoveable:!l.IS_PERSONAL,isShareable:!l.IS_PRIVATE,isSponsored:a,type:c.Ay.Playlist,shareType:r.Gb.playlist});return n.createElement(d.PK.Provider,{value:p},D||(D=n.createElement(m.e,{size:"medium",gap:"spacing.xs",spacing:0,"data-testid":"toolbar"},n.createElement(g.A,null),n.createElement(n.Suspense,{fallback:null},n.createElement(A.A,null),n.createElement(T,null),n.createElement(h.A,null),n.createElement(v,null),n.createElement(u.A,null),n.createElement(b.A,null)))))}},"rOn+":(e,t,a)=>{a.d(t,{A:()=>o});var l=a("q1tI"),n=a("0oT0"),i=a("N67Q"),r=a("1h7S"),s=a("cFUB");const o=()=>{const{context:e,id:t,isLoveable:a,isSponsored:o,type:c}=l.useContext(r.PK);return a?l.createElement(i.A,null,l.createElement(n.A,{action:s.Hj.FAVORITE,color:!0===o?s.cW.LIGHT:s.cW.DEFAULT,context:e,id:t,type:c})):null}},KJ1h:(e,t,a)=>{a.d(t,{A:()=>o});var l=a("q1tI"),n=a("0oT0"),i=a("N67Q"),r=a("1h7S"),s=a("cFUB");const o=()=>{const{context:e,id:t,isDownloadable:a,type:o}=l.useContext(r.PK);return a?l.createElement(i.A,null,l.createElement(n.A,{action:s.Hj.DOWNLOAD,context:e,id:t,type:o})):null}},C53p:(e,t,a)=>{a.d(t,{A:()=>u});var l,n=a("q1tI"),i=a("TRpf"),r=a("HmE0"),s=a("EPmj"),o=a("Wp0Y"),c=a("TqF5"),d=a("N67Q"),m=a("Jfek"),A=a("1h7S");const u=()=>{const{id:e,isShareable:t,containerData:a,context:u,shareType:E,isSponsored:p}=n.useContext(A.PK),I=(0,i.wA)();return t&&E?n.createElement(d.A,null,n.createElement(r.K0,{"aria-haspopup":!0,"aria-label":(0,o.AP)("Partager"),colorScheme:!0===p?"white":"neutral",icon:l||(l=n.createElement(s.l,null)),onClick:()=>{I((0,c.qf)({name:m.DN,props:{componentType:m.Wg.directShareMasthead,context:u,data:a,id:e,type:E}}))},variant:"ghost"})):null}},"Fg+i":(e,t,a)=>{a.d(t,{Zo:()=>l,eb:()=>i,lC:()=>n});const l="1c51eebdce4b220e94e2ffddef5cf2f1",n="d6172ff86cb3f10e16a46ad0cb8f3259";let i=function(e){return e.latest="latest",e.resume="resume",e}({})}}]);