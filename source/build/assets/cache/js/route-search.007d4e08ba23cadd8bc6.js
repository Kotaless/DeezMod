"use strict";(self.webpackJsonpDeezer=self.webpackJsonpDeezer||[]).push([[2943],{D6Uc:(e,t,a)=>{a.d(t,{A:()=>p}),a("/eM8");var r=a("q1tI"),l=a("TRpf"),i=a("Wp0Y"),n=a("e2eG"),s=a("WmA5"),o=a("GkjM"),c=a("MG7B"),d=a("4liH"),u=a("ntT5");class m extends r.Component{render(){const e=(0,i.AP)("Aucun résultat pour «<strong>%s</strong>»",{sprintf:[" "+(0,c.A)(this._getQueryTitle(this.props.query))+" "]});return r.createElement("div",{className:"page-naboo-search",id:"page_search_noresult"},r.createElement("div",{className:"search-header"},r.createElement("div",{className:"container"},r.createElement("h1",{className:"heading-1 ellipsis",dangerouslySetInnerHTML:{__html:e}}),this._renderSubtitle())),this._renderResults())}_renderSubtitle(){const{query:e,revisedQuery:t,alternativeQueries:a}=this.props;if(t)return r.createElement("h2",{className:"heading-4 ellipsis"},(0,i.AP)("Afficher les résultats pour :")+" ",r.createElement(o.A,{key:t,className:"link-primary",to:"/search/"+encodeURIComponent(t),onClick:this._onSearchWithoutRevision.bind(this,t,e,u.FU)},t));if(a.length){let t=a.map((t=>{const a=t.REVISED_QUERY;return r.createElement(o.A,{key:e,className:"link-primary",to:"/search/"+encodeURIComponent(a),onClick:this._onSearchWithoutRevision.bind(this,a,e,u.SC)},a)}));return r.createElement("h2",{className:"heading-4 ellipsis"},(0,i.AP)("Essayez quand même avec")+" "," ",t)}return r.createElement("h2",{className:"heading-2"},(0,i.AP)("search_subtitle_whynotexploresomeotheroptions_web"))}_renderResults(){const e=r.lazy((()=>Promise.all([a.e(4201),a.e(5539),a.e(9754),a.e(8974),a.e(766),a.e(1421),a.e(9094),a.e(8192),a.e(5665),a.e(3851),a.e(3172),a.e(7827),a.e(7895),a.e(9656),a.e(7450),a.e(1550)]).then(a.bind(a,"EDhW"))));return r.createElement("div",{className:"search-results"},r.createElement(r.Suspense,{fallback:null},r.createElement(e,{location:s.A.location})))}_onSearchWithoutRevision(e,t,a){(0,u.Uw)(t,e,a,d.d0),this.props.isAuth&&n.A.addSearchHistory(e)}_getQueryTitle(e){return e?0===e.indexOf("+")&&e.length>1?e.substr(1,e.length):e:null}}m.defaultProps={alternativeQueries:[]};const p=(0,l.Ng)((({user:e})=>({isAuth:e.isAuth})))(m)},ZNvh:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Xe});var r=a("q1tI"),l=a("TRpf"),i=a("X6oL"),n=a("WmA5"),s=a("d6Kh"),o=a("7E8A"),c=a("tZCQ"),d=a("17x9"),u=a.n(d),m=a("Ty5D"),p=a("Wp0Y"),E=a("5G9X"),A=a("xobL"),h=(a("/eM8"),a("nrKQ"));const y="search/SEARCH_RESULTS_RECEIVED",g="search/SEARCH_RESULTS_BY_TYPE_RECEIVED",v="search/SEARCH_RESULTS_REINITIALIZED",T="CHANNEL",w=e=>({type:y,payload:e}),N=[];var D=a("ntT5"),U=a("MTsA"),O=a("55Ip"),F=a("e2eG"),B=a("GsJb"),q=a("hIIJ"),H=a("4liH");class Y extends r.Component{render(){const{filter:e,querySubTitle:t}=this.props;return e===D.mQ?this._renderTag():""!==t?this._renderAutoCorrect():null}_renderTag(){const{queryTitle:e,tags:t}=this.props,a=e.split(" ").map((e=>({LABEL:"#"+e,selected:!0})));return r.createElement("div",{className:"search-header"},r.createElement("div",{className:"container"},c.A.isAllowed("revamp2023")?r.createElement(q.A,{as:"h1",className:"sr-only",title:(0,p.AP)("search_title_searchresultsfor_web",{sprintf:[e]})}):r.createElement("h1",{className:"sr-only"},(0,p.AP)("search_title_searchresultsfor_web",{sprintf:[e]})),r.createElement(B.A,{tags:a,selected:a.length>1,disabled:a.length<=1,min:1,showLabel:!0,overflowHidden:!1}),r.createElement(B.A,{tags:t,query:e,showLabel:!0,selectable:!0})))}_renderAutoCorrect(){const{autocorrect:e,queryTitle:t,querySubTitle:a,forcedQuery:l}=this.props,i=l?a:"+"+a,n=e?(0,p.AP)("Essayez quand même avec"):(0,p.AP)("Afficher les résultats pour :");return r.createElement("div",{className:"search-header has-subtitle"},r.createElement("div",{className:"container"},r.createElement("h1",{className:"heading-1",key:"query-title"},(0,p.AP)("Résultats de recherche pour %s",{sprintf:[`« ${t} »`]})),r.createElement("h2",{className:"heading-4 ellipsis",key:"query-subtitle"},n+" ",r.createElement(O.N_,{className:"link-primary",to:"/search/"+encodeURIComponent(i),onClick:this._onSearchWithoutRevision.bind(this,"all")},a))))}_onSearchWithoutRevision(){const{queryTitle:e,querySubTitle:t,forcedQuery:a,autocorrect:r,isAuth:l}=this.props,i=a?t:"+"+t;(0,D.Uw)(e,t,r?D.F9:D.FU,H.d0),l&&F.A.addSearchHistory(i,e,r?D.F9:D.FU)}}Y.defaultProps={querySubTitle:"",forcedQuery:!1,autocorrect:!1};const M=(0,l.Ng)((({user:e})=>({isAuth:e.isAuth})))(Y);var Q,z,Z,K=a("D6Uc"),$=a("p/gB"),W=a("0bYo"),G=a("M3gt"),J=a("8m9I"),V=a("1Pdy"),X=a("iiSH"),j=a("AfN5"),ee=a("145D"),te=a("xCFc"),ae=a("1Uwb"),re=a("XLml"),le=a("Kc87"),ie=a("3AbJ"),ne=a("ftFY"),se=a("tgyz");const oe=({context:e,isFullyFetched:t,items:a,nextFetchDataIndex:l,onFetch:i,query:n,shouldExplicitBeHidden:s=!1,total:o})=>{const c={id:n,type:j.Kk.SEARCH},d=(0,r.useRef)(null),{loadingStatus:u,fetchNext:m,fetchAll:E}=(0,ie.A)(i,n,t,l,e),{manageItems:A,tableItems:h}=(0,ne.A)(n,a,e,{fetchAll:E}),{playerStatus:y}=(0,se.A)(e,c,t),g=V.F4.lg,v=(0,te.Ay)({container:c,context:e,loadingStatus:u,manageItems:A,playerStatus:y,rowHeight:g,shouldExplicitBeHidden:s});return r.createElement(te.ru,{value:v},r.createElement(ae.A,{tableRef:d,rowCount:o},r.createElement(ae.A.Header,null,r.createElement(ae.A.CellHead,{size:ee.c.TITLE.SIZE,sortPath:"item.title"},(0,p.AP)("datagrid_title_episodeUPP_web")),r.createElement(ae.A.CellHead,{size:ee.c.PARENT.SIZE,sortPath:"item.parent.name"},(0,p.AP)("datagrid_title_podcastUPP_web")),r.createElement(ae.A.CellHead,{breakpoint:ee.c.DATE.BREAKPOINT,size:ee.c.DATE.SIZE,sortPath:"item.date"},(0,p.AP)("datagrid_title_addedtrackUPP_web")),r.createElement(ae.A.CellHead,{ariaLabel:(0,p.AP)("sortingmenu_title_duration_web"),size:ee.c.DURATION.SIZE,sortPath:"item.duration"},Q||(Q=r.createElement(J.m,null)))),r.createElement(ae.A.Body,null,r.createElement(G.A,{isItemLoaded:e=>e<a.length-X.Hs,itemCount:h.toDisplay.length,loadMoreItems:m,threshold:X.Hs},(({onItemsRendered:e,ref:t})=>r.createElement(re.A,{onItemsRendered:e,tableRef:d,items:h,ref:t,rowHeight:g},le.A))),z||(z=r.createElement(ae.A.RowLoader,null)))),0===h.toDisplay.length&&(Z||(Z=r.createElement(ae.A.EmptyContent,null))))};var ce,de,ue,me,pe=a("Qdkb"),Ee=a("BP9I"),Ae=a("EZyQ"),he=a("7u2F");const ye=({context:e,isFullyFetched:t,items:a,nextFetchDataIndex:l,onFetch:i,query:n,shouldExplicitBeHidden:s=!1,total:o})=>{const c={id:n,type:j.Kk.SEARCH},d=(0,r.useRef)(null),{loadingStatus:u,fetchNext:m,fetchAll:E}=(0,ie.A)(i,n,t,l,e),{manageItems:A,tableItems:h}=(0,ne.A)(n,a,e,{fetchAll:E}),{playerStatus:y}=(0,se.A)(e,c,t),g=(0,he.A)(h,e,E),v=(0,te.Ay)({container:c,context:e,loadingStatus:u,manageItems:A,playerStatus:y,select:g,shouldExplicitBeHidden:s});return r.createElement(te.ru,{value:v},r.createElement(ae.A,{tableRef:d,rowCount:o},r.createElement(ae.A.Header,null,r.createElement(ae.A.CellHead,{size:pe.c.TITLE.SIZE,sortPath:"item.title"},(0,p.AP)("datagrid_title_trackUPP_web")),r.createElement(ae.A.CellHead,{size:pe.c.ARTIST.SIZE,sortPath:"item.artist.name"},(0,p.AP)("datagrid_title_artistUPP_web")),r.createElement(ae.A.CellHead,{breakpoint:pe.c.PARENT.BREAKPOINT,size:pe.c.PARENT.SIZE,sortPath:"item.parent.name"},(0,p.AP)("datagrid_title_albumUPP_web")),r.createElement(ae.A.CellHead,{ariaLabel:(0,p.AP)("sortingmenu_title_duration_web"),size:pe.c.DURATION.SIZE,sortPath:"item.duration"},ce||(ce=r.createElement(J.m,null))),r.createElement(ae.A.CellHead,{breakpoint:pe.c.POPULARITY.BREAKPOINT,size:pe.c.POPULARITY.SIZE,sortPath:"item.popularity"},(0,p.AP)("datagrid_title_popularityabbrevUPP_web")),r.createElement(ae.A.CellHead,{align:pe.c.SELECT.ALIGN,size:pe.c.SELECT.SIZE},de||(de=r.createElement(Ee.A,null)))),r.createElement(ae.A.Body,null,r.createElement(G.A,{isItemLoaded:e=>e<a.length-X.Hs,itemCount:h.toDisplay.length,loadMoreItems:m,threshold:X.Hs},(({onItemsRendered:e,ref:t})=>r.createElement(re.A,{onItemsRendered:e,tableRef:d,items:h,ref:t},Ae.A))),ue||(ue=r.createElement(ae.A.RowLoader,null)))),0===h.toDisplay.length&&(me||(me=r.createElement(ae.A.EmptyContent,null))))};var ge=a("AY3M");class ve extends r.Component{constructor(e){super(e),this._fetchData=this._fetchData.bind(this)}get pageContext(){return o[`CONTEXT_PAGE_SEARCH_TAB_${this.props.tab.toUpperCase()}`]}_renderEpisodes(){const{item:e,query:t,shouldExplicitBeHidden:a}=this.props,{data:l,displayTotal:i,next:n,total:s}=e,o=(0,p.WI)("masthead_text_Xepisodes_web","masthead_text_Xepisodes_web",{sprintf:[i],count:i});return r.createElement("div",{className:"container","data-testid":"episodes"},this._renderTitle(o),r.createElement(oe,{context:{ID:t,TYPE:(0,$.kv)(E.Ay.Episode)},isFullyFetched:n>s,items:l,nextFetchDataIndex:n,onFetch:this._fetchData,query:t,total:s,shouldExplicitBeHidden:a}))}_renderTitle(e){return c.A.isAllowed("revamp2023")?r.createElement(q.A,{title:e,mb:"spacing.2xl"}):r.createElement("div",{className:"thumbnail-grid-title heading-1 "},e)}_renderTracks(){const{item:e,query:t,shouldExplicitBeHidden:a}=this.props,{data:l,displayTotal:i,next:n,total:s}=e,o=(0,p.WI)("%s titre","%s titres",{sprintf:[i],count:i});return r.createElement("div",{className:"container","data-testid":"songs"},this._renderTitle(o),r.createElement(ye,{context:{ID:t,TYPE:(0,$.kv)(E.Ay.Track)},isFullyFetched:n>s,items:l,nextFetchDataIndex:n,onFetch:this._fetchData,query:t,total:s,shouldExplicitBeHidden:a}))}_renderTracksWithLyrics(){const{item:e,query:t,shouldExplicitBeHidden:a}=this.props,{data:l,displayTotal:i,next:n,total:s}=e,o=(0,p.WI)("searchresult_title_Xlyricsmatches_web","searchresult_title_Xlyricsmatches_web",{sprintf:[i],count:i});return r.createElement("div",{className:"container","data-testid":"songs"},this._renderTitle(o),r.createElement(ye,{context:{ID:t,TYPE:W.A[ge.le]},isFullyFetched:n>s,items:l,nextFetchDataIndex:n,onFetch:this._fetchData,query:t,total:s,shouldExplicitBeHidden:a}))}async _fetchData(e){const{query:t,item:a,tab:r,filter:l}=this.props;e.nb<=0||await this.props.fetchData({...e,query:t,filter:l,start:a.next,output:r.toUpperCase()})}render(){const{tab:e}=this.props;switch(e){case E.Ay.Track:return this._renderTracks();case E.Ay.Episode:return this._renderEpisodes();case s.TV:return this._renderTracksWithLyrics();default:return null}}}ve.contextTypes={searchType:u().string};const _e=ve;var Ie=a("YVUD");class Te extends r.Component{constructor(e,t){super(e,t),this._fetchData=this._fetchData.bind(this),this.isFullLoaded=!1}componentDidMount(){this.props.item.isFullLoaded&&(this.isFullLoaded=!0)}get pageContext(){return o[`CONTEXT_PAGE_SEARCH_TAB_${this.props.tab.toUpperCase()}`]}get title(){const e={sprintf:[this.props.item.displayTotal],count:this.props.item.displayTotal};switch(this.props.tab){case E.Ay.Artist:return(0,p.WI)("%s artiste","%s artistes",e);case E.Ay.Album:return(0,p.WI)("%s album","%s albums",e);case E.Ay.Playlist:return(0,p.WI)("%s playlist","%s playlists",e);case E.Ay.Radio:return(0,p.WI)("%s mix","%s mix",e);case E.Ay.Channel:return(0,p.WI)("%s univers","%s univers",e);case E.Ay.Show:return(0,p.WI)("%s podcast","%s podcasts",e);case E.Ay.Livestream:return(0,p.WI)("%s radio","%s radios",e);case E.Ay.User:return(0,p.WI)("%s profil","%s profils",e);case E.Ay.FlowConfig:return(0,p.AP)("Flow");default:return""}}render(){const{query:e,tab:t,item:a,filter:l}=this.props,i={id:e,pageContext:this.pageContext,type:"search",title:this.title,fetchData:this._fetchData,data:a.data,total:a.total,filter:l,progressiveDisplay:this.isFullLoaded,gridAttributes:{type:t,pageContext:this.pageContext,context:`search_${t}`}};return r.createElement("div",{className:"search-results"},r.createElement(Ie.A,i))}_fetchData(e){const{query:t,item:a,filter:r,tab:l}=this.props;a.isFullLoaded||this.props.fetchData({...e,query:t,filter:r,start:a.next,output:l.toUpperCase()})}}const be=Te;var Se,Pe=a("lpJY"),fe=a("934x"),Ce=a("0CJU"),Re=a("GkjM"),xe=a("23Qi");const ke=(0,i.Ay)()(Se=class extends r.Component{render(){const{items:e}=this.props;if(0===e.length)return null;const t=e[0],a=t.__TYPE__,l=t[E.vn[a]],{link:i,title:n,subtitle:s,type:c}=this._getInfo(t),d=a===E.Ay.Artist,u=a===E.Ay.Livestream;return r.createElement("div",{className:"container search-top-result-container",key:c},r.createElement(q.A,{pb:"spacing.xl",title:(0,p.WI)("searchresult_title_topresults_web","searchresult_title_topresults_web",{count:1})}),r.createElement("div",{className:"search-top-result"},r.createElement(Ce.A,{type:a,data:t,halfRounded:u,rounded:d,height:162,width:162,context:{ID:l,TYPE:(0,$.Pe)(a,ge._v)},pageContext:o[`CONTEXT_PAGE_SEARCH_TOP_${a.toUpperCase()}`],alt:n,onClick:this._triggerTracking.bind(this,{type:a,id:l})}),r.createElement("div",{className:"search-top-result-info"},r.createElement("div",{className:"heading-3 ellipsis"},i),r.createElement("div",{className:"heading-3-sub ellipsis"},s),r.createElement("span",{className:"sticker sticker-default"},c))))}_triggerTracking(e){const{tracking:t}=this.props,a=this.props.tracking.getTrackingData(),r=a.pagecategory||a.pagename;r&&t.trackEvent({eventaction:`click-best-${e.type}-${r}`,event:"click",eventcategory:r,eventlabel:`${e.type}-${r}`,item:{rank:0,id:e.id,type:e.type}})}_getInfo(e){let t="",a="",l="",i="";switch(e.__TYPE__){case E.Ay.Artist:i=(0,p.AP)("Artiste"),l=e.ART_NAME,t=r.createElement(Re.A,{to:`/artist/${e.ART_ID}`,onClick:this._triggerTracking.bind(this,{type:e.__TYPE__,id:e.ART_ID})},l),a=(0,p.WI)("%s fan","%s fans",{sprintf:[(0,xe.A)(e.NB_FAN)],count:e.NB_FAN});break;case E.Ay.Album:i=(0,p.AP)("generic_title_album_web"),l=e.ALB_TITLE,t=r.createElement(Re.A,{to:`/album/${e.ALB_ID}`,onClick:this._triggerTracking.bind(this,{type:e.__TYPE__,id:e.ALB_ID})},l),a=r.createElement(r.Fragment,null,`${(0,p.AP)("par")} `,e.ARTISTS.map((({ROLE_ID:e,ART_NAME:t,ART_ID:a},l)=>0===Number(e)||5===Number(e)?[l>0?", ":"",r.createElement(Re.A,{key:`/artist/${a}`,to:`/artist/${a}`,onClick:this._triggerTracking.bind(this,{type:E.Ay.Artist,id:a})},t)]:"")),` - ${(0,p.WI)("%s titre","%s titres",{sprintf:[(0,xe.A)(e.NUMBER_TRACK)],count:e.NUMBER_TRACK})}`);break;case E.Ay.Playlist:i=(0,p.AP)("Playlist"),l=e.TITLE,t=r.createElement(Re.A,{to:`/playlist/${e.PLAYLIST_ID}`,onClick:this._triggerTracking.bind(this,{type:e.__TYPE__,id:e.PLAYLIST_ID})},l),a=`${(0,p.AP)("par")} ${e.PARENT_USERNAME} - ${(0,p.WI)("%s titre","%s titres",{sprintf:[e.NB_SONG],count:e.NB_SONG})}`;break;case E.Ay.Show:i=(0,p.AP)("Podcast"),l=e.SHOW_NAME,t=r.createElement(Re.A,{to:`/show/${e.SHOW_ID}`,onClick:this._triggerTracking.bind(this,{type:e.__TYPE__,id:e.SHOW_ID})},l);break;case E.Ay.Livestream:i=(0,p.AP)("Radio"),l=t=e.LIVESTREAM_TITLE}return{link:t,title:l,subtitle:a,type:i}}})||Se;var Le=a("LePI"),we=a("mqk7");class Ne extends r.Component{constructor(e){super(e),this._renderItems=this._renderItems.bind(this)}render(){const{ORDER:e}=this.props.items;return r.createElement("div",{className:"search-results"},e.filter((e=>s.Dh[e.toLowerCase()])).map(this._renderItems))}_renderItems(e){const{items:t}=this.props;if(t[e]&&!1===t[e].enabled)return null;switch(e.toLowerCase()){case s.mK:return r.createElement(ke,{items:t[e],key:e});case s.TV:case E.Ay.Track:case E.Ay.Episode:return this._renderTracklist(t[e],e.toLowerCase());default:return this._renderThumbnailGrid(t[e],e.toLowerCase())}}_renderThumbnailGrid(e,t){return t!==E.Ay.Show||c.A.isAllowed("talk")?r.createElement("div",{className:"container",key:t},this._renderTitle(t),r.createElement(Pe.A,{key:t,nbLines:1,data:e.data.slice(0,5),context:`search_${t}`,pageContext:o.CONTEXT_PAGE_SEARCH})):null}_renderTracklist(e,t){const{query:a,shouldExplicitBeHidden:l}=this.props;return t===E.Ay.Episode?c.A.isAllowed("talk")?r.createElement("div",{className:"container","data-testid":"episodes",key:t},this._renderTitle(t),r.createElement(Le.A,{query:a,items:e.data.slice(0,6),shouldExplicitBeHidden:l})):null:r.createElement("div",{className:"container","data-testid":"songs",key:t},this._renderTitle(t),r.createElement(we.A,{query:a,items:e.data.slice(0,6),shouldExplicitBeHidden:l}))}_renderTitle(e){return c.A.isAllowed("revamp2023")?r.createElement(q.A,{title:s.gj[e],href:`/search/${encodeURIComponent(this.props.query)}/${e}`,onClick:this._onViewAll.bind(this,e),pb:"spacing.xl"}):r.createElement("h2",{className:"heading-2 search-title"},r.createElement(fe.A,{href:`/search/${encodeURIComponent(this.props.query)}/${e}`,onClick:this._onViewAll.bind(this,e)},s.gj[e]))}_onViewAll(e){(0,D.Uw)(this.props.query,"",D.mJ,H.d0,0,D.UG[e])}}const De=Ne;var Ue=a("sAMA");class Oe extends r.Component{constructor(e){super(e),this._onTabClick=this._onTabClick.bind(this)}getChildContext(){return{id:this._getQuery(),userId:this.props.userID,name:o.CONTEXT_PAGE_SEARCH,searchType:this.props.data.FILTER===D.mQ?D.nD:D.Sj}}componentDidMount(){this._handleUpdate()}componentDidUpdate(){this._handleUpdate()}shouldComponentUpdate(e){return e.data.QUERY===decodeURIComponent(e.match.params.query)}render(){const{QUERY:e,REVISED_QUERY:t,IS_FORCED_QUERY:a,TAG:l,FILTER:i,HAS_RESULTS:n,AUTOCORRECT:s}=this.props.data;return!1===n?this._renderNoResult():r.createElement("div",{className:"page-naboo-search",id:"page_naboo_search"},r.createElement(M,{queryTitle:this._getQueryTitle(e,a),querySubTitle:t,forcedQuery:a,autocorrect:s,tags:l,filter:i}),r.createElement("div",{className:"search-navbar"},r.createElement(U.A,{items:this._getTabList(),active:this.props.tab})),this._renderTab())}_renderNoResult(){const{QUERY:e,REVISED_QUERY:t,ALTERNATIVE_QUERIES:a}=this.props.data,l={query:e,revisedQuery:t};return a.length&&(l.alternativeQueries=a),r.createElement(K.A,l)}_renderTab(){const{data:e,shouldExplicitBeHidden:t,tab:a}=this.props,{IS_FORCED_QUERY:l,FILTER:i}=e,n=this._getQuery(l);switch(a){case s.mK:return r.createElement(De,{items:e,query:n,shouldExplicitBeHidden:t});case E.Ay.Track:case E.Ay.Episode:case s.TV:return r.createElement(_e,{key:a,tab:a,item:e[a.toUpperCase()],query:n,filter:i,fetchData:this.props.loadQueryResultsByType,shouldExplicitBeHidden:t});default:return r.createElement(be,{key:a,tab:a,item:e[a.toUpperCase()],query:n,filter:i,fetchData:this.props.loadQueryResultsByType})}}_onTabClick(e){const{data:t}=this.props;let a=`/${t.FILTER===D.mQ?D.xX:D.Sj}/${encodeURIComponent(t.QUERY)}`;const r=t.FUZZINNESS?D.fO:D.mJ;let l=D.P$;e.id!==s.mK&&(a+=`/${e.id}`,l=D.UG[e.id]),(0,D.Uw)(t.QUERY,"",r,H.d0,0,l),this.props.history.push(a)}_getTabList(){const{ORDER:e}=this.props.data,t=(e||Object.keys(s.gj)).filter((e=>s.gj[e.toLowerCase()]&&!this._isTabDisabled(e))).map((e=>({id:e.toLowerCase(),label:s.gj[e.toLowerCase()],action:this._onTabClick,disabled:!1})));return 1===t.length?t:[{id:s.mK.toLowerCase(),label:(0,p.AP)("Tout"),action:this._onTabClick,disabled:!1}].concat(t)}_isTabDisabled(e){const{data:t}=this.props;switch(e.toLowerCase()){case E.Ay.Show:return!c.A.isAllowed("talk")||!t[e.toUpperCase()].enabled;case s.mK:return!1;default:return!t[e.toUpperCase()]||!t[e.toUpperCase()].enabled}}_getQueryTitle(e,t){return e?!0===t&&0===e.indexOf("+")&&e.length>1?e.substr(1,e.length):e:null}_getQuery(e=!1){const{QUERY:t,REVISED_QUERY:a,AUTOCORRECT:r}=this.props.data,l=r&&a||t;return e&&!l.startsWith("+")?"+"+l:l}_handleUpdate(){const{tab:e,data:t}=this.props,a=encodeURIComponent(this._getQuery(t.IS_FORCED_QUERY));if(e!==s.mK&&this._isTabDisabled(e))return void this.props.history.replace(`/search/${a}`);const r=this._getTabList();e===s.mK&&1===r.length&&r[0].id!==s.mK&&this.props.history.replace(`/search/${a}/${r[0].id}`)}}Oe.childContextTypes={id:u().string,userId:u().number,name:u().string.isRequired,searchType:u().string},Oe.defaultProps={tab:s.mK,data:{}};const Fe=(0,m.y)((0,l.Ng)((({user:e})=>({userID:e.id,shouldExplicitBeHidden:(0,A.Uw)(e)===Ue.g})),{loadQueryResultsByType:({query:e,start:t,nb:a,filter:r,output:l})=>i=>new Promise(((n,s)=>{const o=h.A.call({method:"search.music",data:{query:e,start:t,nb:a,filter:r,output:l},success:e=>{i(((e,t)=>({type:g,payload:{...e,output:t}}))(e,l)),n(e)},error:s});N.push(o)}))})(Oe));var Be=a("FSqQ"),qe=a("WKgy");a("WpbS");const He={data:[],next:0,total:0,filteredCount:0},Ye={AUTOCORRECT:"",FUZZINNESS:!1,ORDER:[],QUERY:"",REVISED_QUERY:"",TOP_RESULT:[],ELEMENTS:{ALBUM:He,ARTIST:He,CHANNEL:He,LIVESTREAM:He,PLAYLIST:He,RADIO:He,SHOW:He,TRACK:He,USER:He,EPISODE:He,LYRICS:He,FLOW_CONFIG:He}},Me={search:(e=Ye,t)=>{switch(t.type){case y:return{AUTOCORRECT:t.payload.AUTOCORRECT,FUZZINNESS:t.payload.FUZZINNESS,ORDER:t.payload.ORDER,QUERY:t.payload.QUERY,REVISED_QUERY:t.payload.REVISED_QUERY,TOP_RESULT:t.payload.TOP_RESULT,ELEMENTS:Object.keys(Ye.ELEMENTS).reduce(((e,a)=>(a===T&&(t.payload.CHANNEL={...t.payload.CHANNEL,filtered_count:0,next:t.payload.CHANNEL.count}),t.payload[a]?{...e,[a]:{data:t.payload[a].data,next:t.payload[a].next,total:t.payload[a].total,filteredCount:t.payload[a].filtered_count}}:{...e,[a]:{data:[],next:0,total:0,filteredCount:0}})),{})};case g:return t.payload.output===T&&(t={...t,payload:{...t.payload,filtered_count:0,next:t.count}}),{...e,ELEMENTS:{...e.ELEMENTS,[t.payload.output]:{data:[...e.ELEMENTS[t.payload.output].data,...t.payload.data],next:t.payload.next,total:t.payload.total+t.payload.filtered_count,filteredCount:e.ELEMENTS[t.payload.output].filteredCount+t.payload.filtered_count}}};case v:return Ye;default:return e}}};var Qe=a("G4qV"),ze=a("nLzw");const Ze=e=>{let t=e.QUERY||"",a=e.REVISED_QUERY||"";return"true"===(e.AUTOCORRECT||"false")?t:a},Ke=(e,t)=>{const a=e.ELEMENTS[t];if(a){const{data:e,next:t,total:r,filteredCount:l}=a,i=r<=(null!=t?t:r);return{data:e,next:null!=t?t:r,total:r,isFullLoaded:i,enabled:r>0,displayTotal:i?e.length:r-(null!=l?l:0)}}return{data:[],next:0,total:0,isFullLoaded:!0,enabled:!1,displayTotal:0}},$e=(0,Qe.Ad)(Qe.UI,ze.A)([e=>{const t=(e=>{let t=e.QUERY||"",a=e.REVISED_QUERY||"";return"true"===(e.AUTOCORRECT||"false")&&""!==a?a:t})(e);return{QUERY:t,REVISED_QUERY:Ze(e),ALTERNATIVE_QUERIES:e.ALTERNATIVE_QUERIES||[],TAG:e.TAG||[],FILTER:e.FILTER||"all",IS_FORCED_QUERY:"+"===t.charAt(0)&&t.length>1,AUTOCORRECT:!(!e.AUTOCORRECT||!e.REVISED_QUERY||"true"!==e.AUTOCORRECT&&!0!==e.AUTOCORRECT),FUZZINNESS:!(!e.FUZZINNESS||"true"!==e.FUZZINNESS&&!0!==e.FUZZINNESS)}},e=>e.ORDER||[],e=>e.TOP_RESULT||[],e=>Ke(e,"ALBUM"),e=>Ke(e,"ARTIST"),e=>Ke(e,T),e=>Ke(e,"LIVESTREAM"),e=>Ke(e,"PLAYLIST"),e=>Ke(e,"RADIO"),e=>Ke(e,"SHOW"),e=>Ke(e,"TRACK"),e=>Ke(e,"USER"),e=>Ke(e,"EPISODE"),e=>Ke(e,"LYRICS"),e=>Ke(e,"FLOW_CONFIG")],((e,t,a,r,l,i,n,s,o,d,u,m,p,E,A)=>{const h=[a.length,u.total,l.total,r.total,s.total,o.total,i.total,m.total,E.total,A.total,n.total];return c.A.isAllowed("talk")&&(h.push(d.total),h.push(p.total)),{...e,HAS_RESULTS:h.some((e=>e>0)),ORDER:t,TOP_RESULT:a,ALBUM:r,ARTIST:l,CHANNEL:i,LIVESTREAM:n,PLAYLIST:s,RADIO:o,SHOW:d,TRACK:u,USER:m,EPISODE:p,LYRICS:E,FLOW_CONFIG:A}}));var We,Ge,Je;let Ve=(0,i.Ay)((({data:e})=>({event:"updatepage",pagename:e.QUERY&&e.QUERY.length?e.QUERY:o.CONTEXT_PAGE_SEARCH,pagecategory:o.CONTEXT_PAGE_SEARCH})))(((Ge=class extends r.Component{constructor(...e){super(...e),this.state={isLoading:!0,error:!1}}componentDidMount(){const{appState:e,match:{params:t}}=this.props;!t.tab||Object.keys(s.gj).includes(t.tab.toLowerCase())?this.props.loadQueryResults({query:decodeURIComponent(t.query||t.tags),isTagQuery:t.tags,rehydrateData:e}).then((()=>this.setState({isLoading:!1}))).catch((e=>this.setState({error:e}))):n.A.replace(`/search/${t.query} ${t.tab}`)}componentDidUpdate(e){const{match:{params:t}}=this.props;e.match.params.query===t.query&&e.match.params.tags===t.tags||(this.setState({isLoading:!0}),this.props.loadQueryResults({query:decodeURIComponent(t.query||t.tags),isTagQuery:t.tags}).then((()=>this.setState({isLoading:!1}))).catch((e=>this.setState({error:e}))))}componentWillUnmount(){c.A.isAllowed("search_instant_search")&&this.props.reinitializeSearchResults(),N.forEach(h.A.cancel)}render(){const{data:e,match:{params:t}}=this.props;if(this.state.error)throw this.state.error;return(c.A.isAllowed("search_instant_search")?this.state.isLoading&&""===e.QUERY:this.state.isLoading)?Je||(Je=r.createElement(Be.A,null)):r.createElement(Fe,{data:e,tab:t.tab})}}).displayName="search",Ge.defaultProps={appState:void 0},We=Ge))||We;qe.A.addReducers(Me);const Xe=(0,l.Ng)((({search:e},{match:{params:t}})=>({data:$e(e,t)})),{loadQueryResults:e=>t=>e.rehydrateData&&e.rehydrateData.QUERY===e.query?Promise.resolve(t(w(e.rehydrateData))):t((e=>t=>new Promise(((a,r)=>{const l=h.A.call({method:e.isTagQuery?"deezer.tagSearch":"deezer.pageSearch",data:{query:e.query,start:0,nb:40,suggest:!0,artist_suggest:!0,top_tracks:!0},success:e=>{t(w(e)),a(e)},error:r});N.push(l)})))(e)),reinitializeSearchResults:()=>({type:v})})(Ve)},"/k3D":(e,t,a)=>{a.d(t,{A:()=>A});var r=a("q1tI"),l=a("TRpf"),i=a("juqV"),n=a("oB8A"),s=a("RuKb"),o=a("xobL"),c=a("Wp0Y"),d=a("/5X2"),u=a("x4+n"),m=a("BJtZ");const p={root:"DqHx5","is-active":"fK3zp",isActive:"fK3zp",label:"TtjAg","is-disabled":"fRaWU",isDisabled:"fRaWU","is-restricted":"LjckW",isRestricted:"LjckW",date:"PTTQH",remaining:"wdZ0W",progress:"OaVz_","progress-inner":"BFn78",progressInner:"BFn78"};var E=a("iiSH");const A=({date:e,duration:t})=>{const{id:a}=r.useContext(d.gy),[A,h]=(0,l.d4)((e=>[(0,s.v6)(e.bookmarks,n.x.EPISODE,a),(0,o.mI)({SERVER_TIMESTAMP:(0,o.mS)(e.user),clientTimestampDelta:(0,o.gE)(e.user)})])),y=(0,i.A)(p.root,(0,m.A)(p));return r.createElement("div",{className:y},r.createElement("div",{className:p.date,"data-testid":"added"},(0,u.E)(e,h)||E.fs),(()=>{if(A&&!(t<=0)&&(A.ongoing||A.played))return r.createElement("div",{className:p.remaining},(()=>{if(!A||!A.ongoing||t<=0)return;const e=(0,c.WI)("timecounter_text_XminleftUPP_web","timecounter_text_XminleftUPP_web",{sprintf:[Math.ceil((t-A.offset)/60)],count:Math.ceil((t-A.offset)/60)});return r.createElement("div",{"data-testid":"duration-left"},e)})(),(()=>{if(!A||A.notPlayed||t<=0)return;if(A.played)return r.createElement("div",null,(0,c.AP)("podcastpage_title_playedUPP_web"));const e=Math.round(100*A.offset/t);return r.createElement("div",{"data-testid":"progress",className:p.progress},r.createElement("div",{className:p.progressInner,style:{width:`${e}%`}}))})())})())}},LePI:(e,t,a)=>{a.d(t,{A:()=>R});var r=a("q1tI"),l=a("8m9I"),i=a("1Pdy"),n=a("AfN5"),s=a("STEc");const o={TITLE:{SIZE:s.uq.Full},PARENT:{SIZE:s.uq.xxl},DATE:{BREAKPOINT:s.x1.xs,SIZE:s.uq.xxl},DURATION:{SIZE:s.uq.sm}};var c,d=a("xCFc"),u=a("1Uwb"),m=(a("aRRr"),a("fSLK")),p=a("Wp0Y"),E=a("CxZw"),A=a("5G9X"),h=a("o+h5"),y=a("/k3D"),g=a("pQlO"),v=a("r4LN"),_=a("LGn+"),I=a("tgyz"),T=a("SehT"),b=a("0JBE"),S=a("GjdC");const P=r.memo((0,b.S2)((({data:e,index:t,style:a})=>{const l=e.toDisplay[t],{context:i,container:n,shouldExplicitBeHidden:s}=r.useContext(d.Gt),{playerStatus:m,play:b,isItemLoadedInPlayer:P}=(0,I.A)(i,n,!0),f=(0,S.A)(),C=l.item.hasExplicitLyrics&&s,R=(t,a)=>{t&&!m.isPaused||f("grid_play"),b({playIndex:a,playItems:e.toPlay,isTrackActive:t})};return r.createElement(u.A.Row,{style:a,uuid:l.uuid,id:l.item.id,index:l.index,isActive:P(l.item)&&m.isSameContext,isReadable:l.item.right===E.A.READABLE,isRestrictedByExplicit:C,type:l.item.type},r.createElement(_.A,{size:o.TITLE.SIZE},r.createElement(_.A.Play,{ariaLabel:(0,p.AP)("generic_action_playsongXbyartistX_web",{sprintf:[l.item.title,l.item.parent.name]}),hasExplicitCover:l.item.parent.hasExplicitCover,onPlayItems:R,pictureUrl:l.item.cover(h.r8).url}),c||(c=r.createElement(_.A.Download,null)),r.createElement(_.A.PlayableLabel,{description:l.item.description,hasExplicitLyrics:l.item.hasExplicitLyrics,label:l.item.title,onPlayItems:R,tooltipText:(0,T.Y)(l.item,s)}),r.createElement(u.A.IconGroup,null,r.createElement(_.A.OpenContextMenu,{item:l.item}))),r.createElement(u.A.CellBody,{size:o.PARENT.SIZE},r.createElement(v.A,{links:[{...l.item.parent,type:A.Ay.Show}]})),r.createElement(u.A.CellBody,{breakpoint:o.DATE.BREAKPOINT,size:o.DATE.SIZE},r.createElement(y.A,{date:1e3*l.item.date,duration:l.item.duration})),r.createElement(u.A.CellBody,{size:o.DURATION.SIZE},r.createElement(g.A,{duration:l.item.duration})))}),(({index:e,data:t})=>({item:A.Ay.Episode,itemIndex:e,itemId:t.toDisplay[e].item.id}))),m.t7);var f,C=a("ftFY");const R=({items:e,query:t,shouldExplicitBeHidden:a=!1})=>{const s={ID:t,TYPE:"search_page"},c={id:t,type:n.Kk.SEARCH},{manageItems:m,tableItems:E}=(0,C.A)(t,e,s),{playerStatus:A}=(0,I.A)(s,c,!0),h=i.F4.lg,y=(0,d.Ay)({container:c,context:s,manageItems:m,playerStatus:A,rowHeight:h,shouldExplicitBeHidden:a});return r.createElement(d.ru,{value:y},r.createElement(u.A,{rowCount:E.toDisplay.length},r.createElement(u.A.Header,null,r.createElement(u.A.CellHead,{size:o.TITLE.SIZE,sortPath:"item.title",dataTestId:"episode_sort"},(0,p.AP)("datagrid_title_episodeUPP_web")),r.createElement(u.A.CellHead,{size:o.PARENT.SIZE,sortPath:"item.parent.name",dataTestId:"podcast_sort"},(0,p.AP)("datagrid_title_podcastUPP_web")),r.createElement(u.A.CellHead,{breakpoint:o.DATE.BREAKPOINT,size:o.DATE.SIZE,sortPath:"item.date",dataTestId:"added_sort"},(0,p.AP)("datagrid_title_addedtrackUPP_web")),r.createElement(u.A.CellHead,{ariaLabel:(0,p.AP)("sortingmenu_title_duration_web"),size:o.DURATION.SIZE,sortPath:"item.duration",dataTestId:"duration_sort"},f||(f=r.createElement(l.m,null)))),r.createElement(u.A.Body,null,E.toDisplay.map(((e,t)=>r.createElement(P,{data:E,key:e.uuid,index:t,style:{height:h}}))))))}},mqk7:(e,t,a)=>{a.d(t,{A:()=>U});var r=a("q1tI"),l=a("8m9I"),i=a("1Pdy"),n=a("AfN5"),s=a("STEc");const o={TITLE:{SIZE:s.uq.Full},ARTIST:{SIZE:s.uq.PercentXs},PARENT:{BREAKPOINT:s.x1.md,SIZE:s.uq.PercentXs},DURATION:{SIZE:s.uq.sm},POPULARITY:{BREAKPOINT:s.x1.xl,SIZE:s.uq.sm},SELECT:{ALIGN:s.uP.Right,SIZE:s.uq.sm}};var c,d,u,m=a("xCFc"),p=a("BP9I"),E=a("1Uwb"),A=a("fSLK"),h=a("lXQd"),y=a("o+h5"),g=a("pQlO"),v=a("0oF4"),_=a("r4LN"),I=a("wkd/"),T=a("LGn+"),b=a("tgyz"),S=a("Wp0Y"),P=a("CxZw"),f=a("5G9X"),C=a("SehT"),R=a("0JBE"),x=a("GjdC");const k=(0,r.memo)((0,R.S2)((({data:e,index:t,style:a})=>{const{context:l,container:i,shouldExplicitBeHidden:n}=(0,m.$A)(),{playerStatus:s,play:p,isItemLoadedInPlayer:A}=(0,b.A)(l,i,!0),R=(0,x.A)(),k=e.toDisplay[t],L=k.item.hasExplicitLyrics&&n,w=(0,r.useCallback)((e=>{e&&!s.isPaused||R("grid_play"),p({isTrackActive:e,playIndex:0,playItems:[k.item],playTrackMix:!0})}),[p,k.item,R,s.isPaused]),N=(0,r.useCallback)((()=>{p({notify:!1,playIndex:0,playItems:[k.item],playOneTrack:!0,playLyrics:!0})}),[p,k.item]);return r.createElement(E.A.Row,{style:a,uuid:k.uuid,id:k.item.id,index:k.index,isActive:A(k.item)&&s.isSameContext,isReadable:k.item.right===P.A.READABLE,isRestrictedByExplicit:L,type:k.item.type,isDraggable:!0},r.createElement(T.A,{size:o.TITLE.SIZE},r.createElement(T.A.Play,{ariaLabel:(0,S.AP)("generic_action_playsongXbyartistX_web",{sprintf:[k.item.title,(0,h.A)(k,"item.artists[0].name","")]}),hasExplicitCover:k.item.parent.hasExplicitCover,onPlayItems:w,pictureUrl:k.item.cover(y.r4).url}),c||(c=r.createElement(T.A.Download,null)),r.createElement(T.A.PlayableLabel,{hasExplicitLyrics:k.item.hasExplicitLyrics,label:k.item.title,onPlayItems:w,tooltipText:(0,C.Y)(k.item,n)}),r.createElement(E.A.IconGroup,null,r.createElement(T.A.ShowLyrics,{item:k.item,lyricsId:k.item.lyricsId,onPlayLyrics:N}),d||(d=r.createElement(T.A.AddToFeedback,null)),r.createElement(T.A.OpenContextMenu,{item:k.item}))),r.createElement(E.A.CellBody,{size:o.ARTIST.SIZE},r.createElement(_.A,{links:k.item.artists.map((e=>({...e,type:f.Ay.Artist})))})),r.createElement(E.A.CellBody,{breakpoint:o.PARENT.BREAKPOINT,size:o.PARENT.SIZE},r.createElement(_.A,{links:[{...k.item.parent,type:f.Ay.Album}]})),r.createElement(E.A.CellBody,{size:o.DURATION.SIZE},r.createElement(g.A,{duration:k.item.duration})),r.createElement(E.A.CellBody,{breakpoint:o.POPULARITY.BREAKPOINT,size:o.POPULARITY.SIZE},r.createElement(v.A,{rank:k.item.popularity})),r.createElement(E.A.CellBody,{align:o.SELECT.ALIGN,size:o.SELECT.SIZE},u||(u=r.createElement(I.A,null))))}),(({index:e,data:t})=>({item:f.Ay.Track,itemIndex:e,itemId:t.toDisplay[e].item.id}))),A.t7);var L,w,N=a("ftFY"),D=a("7u2F");const U=({items:e,query:t,shouldExplicitBeHidden:a=!1})=>{const s={ID:t,TYPE:"search_page"},c={id:t,type:n.Kk.SEARCH},{manageItems:d,tableItems:u}=(0,N.A)(t,e,s),{playerStatus:A}=(0,b.A)(s,c,!0),h=(0,D.A)(u,s),y=(0,m.Ay)({container:c,context:s,manageItems:d,playerStatus:A,select:h,shouldExplicitBeHidden:a});return r.createElement(m.ru,{value:y},r.createElement(E.A,{rowCount:u.toDisplay.length},r.createElement(E.A.Header,null,r.createElement(E.A.CellHead,{size:o.TITLE.SIZE,sortPath:"item.title",dataTestId:"track_sort"},(0,S.AP)("datagrid_title_trackUPP_web")),r.createElement(E.A.CellHead,{size:o.ARTIST.SIZE,sortPath:"item.artist.name",dataTestId:"artist_sort"},(0,S.AP)("datagrid_title_artistUPP_web")),r.createElement(E.A.CellHead,{breakpoint:o.PARENT.BREAKPOINT,size:o.PARENT.SIZE,sortPath:"item.parent.name",dataTestId:"album_sort"},(0,S.AP)("datagrid_title_albumUPP_web")),r.createElement(E.A.CellHead,{ariaLabel:(0,S.AP)("sortingmenu_title_duration_web"),size:o.DURATION.SIZE,sortPath:"item.duration",dataTestId:"duration_sort"},L||(L=r.createElement(l.m,null))),r.createElement(E.A.CellHead,{breakpoint:o.POPULARITY.BREAKPOINT,size:o.POPULARITY.SIZE,sortPath:"item.popularity",dataTestId:"popularity_sort"},(0,S.AP)("datagrid_title_popularityabbrevUPP_web")),r.createElement(E.A.CellHead,{align:o.SELECT.ALIGN,size:o.SELECT.SIZE},w||(w=r.createElement(p.A,null)))),r.createElement(E.A.Body,null,u.toDisplay.map(((e,t)=>r.createElement(k,{data:u,key:e.uuid,index:t,style:{height:i.F4.md}}))))))}},Kc87:(e,t,a)=>{a.d(t,{A:()=>I}),a("aRRr");var r,l=a("q1tI"),i=a("fSLK"),n=a("Wp0Y"),s=a("CxZw"),o=a("5G9X"),c=a("o+h5"),d=a("xCFc"),u=a("/k3D"),m=a("pQlO"),p=a("r4LN"),E=a("1Uwb"),A=a("LGn+"),h=a("145D"),y=a("tgyz"),g=a("SehT"),v=a("0JBE"),_=a("GjdC");const I=l.memo((0,v.S2)((({data:e,index:t,style:a})=>{const i=e.toDisplay[t],{context:v,container:I,shouldExplicitBeHidden:T}=l.useContext(d.Gt),{playerStatus:b,play:S,isItemLoadedInPlayer:P}=(0,y.A)(v,I,!0),f=(0,_.A)(),C=i.item.hasExplicitLyrics&&T,R=(t,a)=>{t&&!b.isPaused||f("grid_play"),S({playIndex:a,playItems:e.toPlay,isTrackActive:t})};return l.createElement(E.A.Row,{style:a,uuid:i.uuid,id:i.item.id,index:i.index,isActive:P(i.item)&&b.isSameContext,isReadable:i.item.right===s.A.READABLE,isRestrictedByExplicit:C,type:i.item.type},l.createElement(A.A,{size:h.c.TITLE.SIZE},l.createElement(A.A.Play,{ariaLabel:(0,n.AP)("generic_action_playsongXbyartistX_web",{sprintf:[i.item.title,i.item.parent.name]}),hasExplicitCover:i.item.parent.hasExplicitCover,onPlayItems:R,pictureUrl:i.item.cover(c.r8).url}),r||(r=l.createElement(A.A.Download,null)),l.createElement(A.A.PlayableLabel,{description:i.item.description,hasExplicitLyrics:i.item.hasExplicitLyrics,label:i.item.title,onPlayItems:R,tooltipText:(0,g.Y)(i.item,T)}),l.createElement(E.A.IconGroup,null,l.createElement(A.A.OpenContextMenu,{item:i.item}))),l.createElement(E.A.CellBody,{size:h.c.PARENT.SIZE},l.createElement(p.A,{links:[{...i.item.parent,type:o.Ay.Show}]})),l.createElement(E.A.CellBody,{breakpoint:h.c.DATE.BREAKPOINT,size:h.c.DATE.SIZE},l.createElement(u.A,{date:1e3*i.item.date,duration:i.item.duration})),l.createElement(E.A.CellBody,{size:h.c.DURATION.SIZE},l.createElement(m.A,{duration:i.item.duration})))}),(({index:e,data:t})=>({item:o.Ay.Track,itemIndex:e,itemId:t.toDisplay[e].item.id}))),i.t7)},"145D":(e,t,a)=>{a.d(t,{c:()=>l});var r=a("STEc");const l={TITLE:{SIZE:r.uq.Full},PARENT:{SIZE:r.uq.xxl},DATE:{BREAKPOINT:r.x1.xs,SIZE:r.uq.xxl},DURATION:{SIZE:r.uq.sm}}},EZyQ:(e,t,a)=>{a.d(t,{A:()=>P});var r,l,i,n=a("q1tI"),s=a("fSLK"),o=a("lXQd"),c=a("o+h5"),d=a("Qdkb"),u=a("xCFc"),m=a("pQlO"),p=a("0oF4"),E=a("r4LN"),A=a("wkd/"),h=a("LGn+"),y=a("1Uwb"),g=a("tgyz"),v=a("Wp0Y"),_=a("CxZw"),I=a("5G9X"),T=a("SehT"),b=a("0JBE"),S=a("GjdC");const P=(0,n.memo)((0,b.S2)((({data:e,index:t,style:a})=>{const{context:s,container:b,shouldExplicitBeHidden:P}=(0,u.$A)(),{playerStatus:f,play:C,isItemLoadedInPlayer:R}=(0,g.A)(s,b,!0),x=(0,S.A)(),k=e.toDisplay[t],L=k.item.hasExplicitLyrics&&P,w=(0,n.useCallback)((e=>{e&&!f.isPaused||x("grid_play"),C({isTrackActive:e,playIndex:0,playItems:[k.item],playTrackMix:!0})}),[C,k.item,x,f.isPaused]),N=(0,n.useCallback)((()=>{C({notify:!1,playIndex:0,playItems:[k.item],playOneTrack:!0,playLyrics:!0})}),[C,k.item]);return n.createElement(y.A.Row,{style:a,uuid:k.uuid,id:k.item.id,index:k.index,isActive:R(k.item)&&f.isSameContext,isReadable:k.item.right===_.A.READABLE,isRestrictedByExplicit:L,type:k.item.type,isDraggable:!0},n.createElement(h.A,{size:d.c.TITLE.SIZE},n.createElement(h.A.Play,{ariaLabel:(0,v.AP)("generic_action_playsongXbyartistX_web",{sprintf:[k.item.title,(0,o.A)(k,"item.artists[0].name","")]}),hasExplicitCover:k.item.parent.hasExplicitCover,onPlayItems:w,pictureUrl:k.item.cover(c.r4).url}),r||(r=n.createElement(h.A.Download,null)),n.createElement(h.A.PlayableLabel,{hasExplicitLyrics:k.item.hasExplicitLyrics,label:k.item.title,onPlayItems:w,tooltipText:(0,T.Y)(k.item,P)}),n.createElement(y.A.IconGroup,null,n.createElement(h.A.ShowLyrics,{item:k.item,lyricsId:k.item.lyricsId,onPlayLyrics:N}),l||(l=n.createElement(h.A.AddToFeedback,null)),n.createElement(h.A.OpenContextMenu,{item:k.item}))),n.createElement(y.A.CellBody,{size:d.c.ARTIST.SIZE},n.createElement(E.A,{links:k.item.artists.map((e=>({...e,type:I.Ay.Artist})))})),n.createElement(y.A.CellBody,{breakpoint:d.c.PARENT.BREAKPOINT,size:d.c.PARENT.SIZE},n.createElement(E.A,{links:[{...k.item.parent,type:I.Ay.Album}]})),n.createElement(y.A.CellBody,{size:d.c.DURATION.SIZE},n.createElement(m.A,{duration:k.item.duration})),n.createElement(y.A.CellBody,{breakpoint:d.c.POPULARITY.BREAKPOINT,size:d.c.POPULARITY.SIZE},n.createElement(p.A,{rank:k.item.popularity})),n.createElement(y.A.CellBody,{align:d.c.SELECT.ALIGN,size:d.c.SELECT.SIZE},i||(i=n.createElement(A.A,null))))}),(({index:e,data:t})=>({item:I.Ay.Track,itemIndex:e,itemId:t.toDisplay[e].item.id}))),s.t7)},Qdkb:(e,t,a)=>{a.d(t,{c:()=>l});var r=a("STEc");const l={TITLE:{SIZE:r.uq.Full},ARTIST:{SIZE:r.uq.PercentXs},PARENT:{BREAKPOINT:r.x1.md,SIZE:r.uq.PercentXs},DURATION:{SIZE:r.uq.sm},POPULARITY:{BREAKPOINT:r.x1.xl,SIZE:r.uq.sm},SELECT:{ALIGN:r.uP.Right,SIZE:r.uq.sm}}},XLml:(e,t,a)=>{a.d(t,{A:()=>p});var r=a("+9dH"),l=a("q1tI"),i=a("fSLK"),n=a("pkJ8"),s=a("TRpf"),o=a("xobL"),c=a("a9NY");const d=(e,t,a=150)=>{const r=l.useRef(null),{height:i}=(0,c.A)(),d=(0,s.d4)((e=>(0,o.iJ)(e.user)));return l.useEffect((()=>{const r=(0,n.A)((a=>{a.stopPropagation(),(()=>{const{y:a=0}=t.current?t.current.getBoundingClientRect():{},r=a+window.scrollY;e.current&&r>0&&e.current.scrollTo(window.pageYOffset-r)})()}),a);return document.addEventListener("scroll",r,{passive:!0}),()=>{r.cancel(),document.removeEventListener("scroll",r)}})),{direction:d,outerRef:r,height:i||0,style:{overflow:"hidden",height:"100%"},width:"100%"}};var u=a("1Pdy");const m=l.forwardRef((({children:e,items:t,onItemsRendered:a,rowHeight:n=u.F4.md,tableRef:s},o)=>{const c=l.useRef(null),m=d(c,s);return l.createElement(i.Y1,(0,r.A)({},m,{onItemsRendered:a,itemSize:n,itemCount:t.toDisplay.length,itemData:t,ref:e=>{"function"==typeof o&&o(e),c.current=e}}),e)}));m.displayName="list";const p=m},"3AbJ":(e,t,a)=>{a.d(t,{A:()=>n}),a("/eM8");var r=a("q1tI"),l=a("iiSH"),i=a("t08u");const n=(e,t,a,n,s,o=l.XQ,c=l.ww)=>{const[d,u]=(0,r.useState)(!1),[m,p]=(0,r.useState)(!1),{triggerTracking:E}=(0,i.A)(s.TYPE),A=(0,r.useCallback)((async()=>{a||d||m||(p(!0),await e({id:t,start:n,nb:c}),p(!1),E({action:"fetch",eventaction:"fetch-"+(c>l.ww?"all":"next")}))}),[c,t,a,d,m,n,e,E]),h=(0,r.useCallback)((async()=>{a||(u(!0),await e({id:t,start:n,nb:o}),u(!1),E({action:"fetch",eventaction:"fetch-all"}))}),[t,a,o,n,e,E]);return{loadingStatus:{isLoadingNext:m,isLoadingAll:d,isFullyFetched:a},fetchNext:A,fetchAll:h}}},lpJY:(e,t,a)=>{a.d(t,{A:()=>r});const r=a("RqX2").A},l1UB:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ta});var r=a("A2sV"),l=a("FSqQ"),i=a("q1tI"),n=a("Ty5D"),s=a("0O3b"),o=(a("W8Tb"),a("Wp0Y")),c=a("tZCQ"),d=a("5G9X");let u=function(e){return e.ALBUMS="search_albums",e.TRACKS="search_tracks",e.ARTISTS="search_artists",e.PLAYLISTS="search_playlists",e.EPISODES="search_episodes",e.PODCASTS="search_podcasts",e.LIVESTREAMS="search_radios",e.USERS="search_profiles",e.FLOW="search_flow",e.CHANNELS="search_universes",e.BEST_RESULTS="search_best_results",e}({});const m=e=>"podcasts"===e&&!c.A.isAllowed("talk"),p={all:{label:(0,o.AP)("Tout"),id:"all",filterName:"all"},artists:{label:(0,o.AP)("Artistes"),id:"artist",filterName:u.ARTISTS},albums:{label:(0,o.AP)("favoritessidebar_title_albums_web"),id:"album",filterName:u.ALBUMS},users:{label:(0,o.AP)("Profils"),id:"user",filterName:u.USERS},tracks:{label:(0,o.AP)("Titres"),id:"track",filterName:u.TRACKS},podcasts:{label:(0,o.AP)("Podcasts"),id:"show",filterName:u.PODCASTS},podcastEpisodes:{label:(0,o.AP)("generic_title_episodes_web"),id:"episode",filterName:u.EPISODES},playlists:{label:(0,o.AP)("Playlists"),id:"playlist",filterName:u.PLAYLISTS},channels:{label:(0,o.AP)("Univers"),id:"channel",filterName:u.CHANNELS},livestreams:{label:(0,o.AP)("Radios"),id:"livestream",filterName:u.LIVESTREAMS},flowConfigs:{label:(0,o.AP)("Flow"),id:"flow_config",filterName:u.FLOW}},E={InstantSearchAlbumsConnection:d.Ay.Album,InstantSearchArtistsConnection:d.Ay.Artist,InstantSearchUsersConnection:d.Ay.User,InstantSearchTracksConnection:d.Ay.Track,InstantSearchPodcastsConnection:d.Ay.Podcast,InstantSearchPodcastEpisodesConnection:d.Ay.Episode,InstantSearchPlaylistsConnection:d.Ay.Playlist,InstantSearchChannelsConnection:d.Ay.Channel,InstantSearchLivestreamsConnection:d.Ay.Radio,InstantSearchFlowConfigConnection:d.Ay.Flow,Album:d.Ay.Album,Artist:d.Ay.Artist,User:d.Ay.User,Track:d.Ay.Track,Podcast:d.Ay.Podcast,PodcastEpisode:d.Ay.Episode,Playlist:d.Ay.Playlist,Channel:d.Ay.Channel,Livestream:d.Ay.Radio,FlowConfig:d.Ay.Flow},A=e=>{const t=[];return e?(Object.values(e).forEach((a=>{if("string"!=typeof a&&a)if("InstantSearchTopResult"===a.__typename&&a.content&&"PodcastEpisode"!==a.content.__typename&&"Track"!==a.content.__typename){const e={title:"best_results",position:1,content:[{id:a.content.id,type:E[a.content.__typename],position:1}]};t.push(e)}else if("InstantSearchResults"===a.__typename){const r=Object.values(a).filter((e=>"string"!=typeof e)).filter((e=>e.edges.some((e=>null!==e.node)))).sort(((e,t)=>t.priority-e.priority)).map(((t,a)=>{var r;return{title:E[t.__typename],position:null!==(r=e.topResult)&&void 0!==r&&r.content?a+2:a+1,content:t.edges.filter((({node:e})=>Boolean(e))).map((({node:e},t)=>{if(e)return{id:e.id,type:E[e.__typename],position:t+1}})).filter(Boolean)}})).filter(Boolean);t.push(...r)}})),t):[]};var h=a("GxIe"),y=a("NSet"),g=a("3ns7"),v=a("hIIJ"),_=a("3nMj"),I=a("0JBE"),T=a("p/gB"),b=a("LOQS");const S=()=>{const{page:e,section:t,entityId:a,entity:r}=(0,I.iQ)();return e&&t?()=>b.A.log({type:"cdp",eventName:"view_all_clicked",customAttributes:{screen_view_name:e,section_name:t,...r&&{screen_view_id_type:r},...a&&{screen_view_id:a}}}):()=>{}},P=(0,I.S2)((({albums:e})=>{const{query:t}=(0,n.g)(),a=S();return i.createElement(y.az,{my:"spacing.2xl"},i.createElement(v.A,{title:(0,o.AP)("favoritessidebar_title_albums_web"),pb:"spacing.xl",ps:"spacing.s",href:`/search/${t}/album`,onClick:a}),i.createElement(g.kK,{oneLine:!0,overflow:"hidden","data-testid":"album_thumbnail_grid"},e.map((({displayTitle:e,id:t,releaseDateAlbum:a,cover:r,contributors:l,isExplicitAlbum:n},s)=>i.createElement(I.OJ,{key:t,value:{legacyContext:{ID:t,TYPE:(0,T.kv)(d.Ay.Album)},itemIndex:s}},i.createElement(h.A,{albumName:e,id:t,releaseDate:(0,_.A)(a),contributors:l.edges.map((({node:e})=>e)),picture:null==r?void 0:r.large[0],isExplicitAlbum:Boolean(n),hasExplicitCover:Boolean(null==r?void 0:r.explicitStatus),hasContextMenu:!1}))))))}),{section:u.ALBUMS});var f=a("JbrT");const C=(0,I.S2)((({artists:e})=>{const{query:t}=(0,n.g)(),a=S();return i.createElement(y.az,{my:"spacing.2xl"},i.createElement(v.A,{title:(0,o.AP)("Artistes"),pb:"spacing.xl",ps:"spacing.s",href:`/search/${t}/artist`,onClick:a}),i.createElement(g.kK,{oneLine:!0,overflow:"hidden","data-testid":"artist_thumbnail_grid"},e.map((({name:e,picture:t,id:a,isFavorite:r,fansCount:l},n)=>i.createElement(I.OJ,{key:a,value:{legacyContext:{ID:a,TYPE:(0,T.kv)(d.Ay.Artist)},itemIndex:n}},i.createElement(f.A,{artistName:e,hasExplicitPicture:Boolean(null==t?void 0:t.explicitStatus),id:a,isFavorite:Boolean(r),nbOfFans:l,picture:null==t?void 0:t.large[0]}))))))}),{section:u.ARTISTS});var R=a("0sL9"),x=a("yRJD"),k=a("/eXD"),L=a("GkjM"),w=a("kb9X");const N=(0,I.S2)((({id:e,name:t,picture:a})=>{const{push:r}=(0,n.W6)(),l=(0,w.A)();return i.createElement(R.V,{onClick:()=>{l(),r(`/profile/${e}`)},_hover:{cursor:"pointer"},"data-testid":"user_thumbnail",textAlign:"center"},i.createElement(y.gl,{ratio:1,display:"block"},i.createElement(x.eu,{variant:"neutral",name:t,src:null!=a?a:"",size:"100%"})),i.createElement(k.r,{title:t},i.createElement(L.A,{onClick:e=>{l(),(e=>{e.stopPropagation(),e.currentTarget.blur()})(e)},to:`/profile/${e}`,_hover:{textDecoration:"underline"}},t)))}),(({id:e})=>({itemId:e,item:d.Ay.User}))),D=(0,I.S2)((({users:e})=>{const{query:t}=(0,n.g)(),a=S();return i.createElement(y.az,{my:"spacing.2xl"},i.createElement(v.A,{title:(0,o.AP)("Profils"),pb:"spacing.xl",ps:"spacing.s",href:`/search/${t}/user`,onClick:a}),i.createElement(g.kK,{oneLine:!0,overflow:"hidden","data-testid":"user_thumbnail_grid"},e.map((({id:e,name:t,picture:a},r)=>i.createElement(I.OJ,{key:e,value:{itemIndex:r}},i.createElement(N,{id:e,name:t,picture:null==a?void 0:a.large[0]}))))))}),{section:u.USERS});var U=a("oJ8y"),O=a("lhvF"),F=a("L20E"),B=a("uN8A"),q=a("7bA3"),H=a("smbX"),Y=a("Fzox"),M=a("xobL"),Q=a("23Qi"),z=a("YJQc"),Z=a("Sb6s"),K=a("TRpf"),$=a("34sk"),W=a("yJX9"),G=a("vXsw");const J=z.J1`
	fragment isPlaylistFavorite on Playlist {
		isFavorite
	}
`,V=e=>{const t={playlistId:e},a=(0,K.wA)(),l=(0,Y.G)((({user:e})=>(0,M.UJ)(e))),{data:i}=(0,Z.I)({fragment:J,from:{__typename:"Playlist",id:e},optimistic:!0}),[n]=(0,r.LQK)({variables:t,optimisticResponse:{__typename:"Mutation",addPlaylistToFavorite:{playlist:{id:e,isFavorite:!0,__typename:"Playlist"},__typename:"PlaylistMutationFavoriteAddOut"}},onCompleted:()=>{a((0,$.TD)(W.Z.favorites,{id:e,timestamp:Date.now()},"playlist"))}}),[s]=(0,r.nPg)({variables:t,onCompleted:()=>{a((0,$.E$)(W.Z.favorites,e,"playlist"))},optimisticResponse:{__typename:"Mutation",removePlaylistFromFavorite:{playlist:{id:e,isFavorite:!1,__typename:"Playlist"},__typename:"PlaylistMutationFavoriteRemoveOut"}}}),o=(0,Y.G)((t=>t.feedbacks.favorites.playlist.feedbacks[e])),c=Boolean(o||(null==i?void 0:i.isFavorite));return{isFavorite:c,toggleFavorite:()=>{l?c?s():n():G.g.goToConnection()}}},X=e=>{e.stopPropagation(),e.currentTarget.blur()},j=(0,I.S2)((({id:e,playlistName:t,picture:a,estimatedTracksCount:r,fansCount:l,ownerId:s,ownerName:c})=>{const{push:d}=(0,n.W6)(),{toggleFavorite:u,isFavorite:m}=V(e),p=(0,Y.G)((e=>(0,M.F6)(e.user))),E=(0,w.A)();return i.createElement(R.V,{onClick:()=>{E(),d(`/playlist/${e}`)},_hover:{cursor:"pointer"},"data-testid":"playlist_thumbnail"},i.createElement(y.gl,{ratio:1,display:"block"},i.createElement(U.Y,{src:a,alt:t},i.createElement(O.Q,null,i.createElement(q.A,{type:"playlist",id:e}),String(p)!==String(s)&&i.createElement(H.A,{isFavorite:m,toggleFavorite:u})))),i.createElement(k.r,{title:t},i.createElement(L.A,{onClick:e=>{E(),X(e)},to:`/playlist/${e}`,_hover:{textDecoration:"underline"}},t)),c&&s&&i.createElement(F.T,null,i.createElement(L.A,{onClick:e=>{E(),X(e)},to:`/profile/${s}`,_hover:{textDecoration:"underline"}},c)),i.createElement(B.f,null,(0,o.WI)("%s titre","%s titres",{sprintf:[(0,Q.A)(r)],count:r}),l>0&&" - "+(0,o.WI)("%s fan","%s fans",{sprintf:[(0,Q.A)(l)],count:l})))}),(({id:e})=>({itemId:e,item:d.Ay.Playlist}))),ee=(0,I.S2)((({playlists:e})=>{const{query:t}=(0,n.g)(),a=S();return i.createElement(y.az,{my:"spacing.2xl"},i.createElement(v.A,{title:(0,o.AP)("Playlists"),pb:"spacing.xl",ps:"spacing.s",href:`/search/${t}/playlist`,onClick:a}),i.createElement(g.kK,{oneLine:!0,overflow:"hidden","data-testid":"playlist_thumbnail_grid"},e.map((({id:e,title:t,picture:a,estimatedTracksCount:r,owner:l,fansCount:n},s)=>i.createElement(I.OJ,{key:e,value:{legacyContext:{ID:e,TYPE:(0,T.kv)(d.Ay.Playlist)},itemIndex:s}},i.createElement(j,{id:e,picture:null==a?void 0:a.large[0],playlistName:t,estimatedTracksCount:r,ownerId:null==l?void 0:l.id,ownerName:null==l?void 0:l.name,fansCount:n}))))))}),{section:u.PLAYLISTS});var te=a("koXx");const ae=(0,I.S2)((({name:e,picture:t,slug:a,backgroundColor:r,logo:l})=>{const s=(0,w.A)(),{push:o}=(0,n.W6)();return i.createElement(R.V,{"data-testid":"channel_thumbnail",pb:"spacing.xs",onClick:()=>{o(`/channels/${a}`),s()},_hover:{cursor:"pointer"}},i.createElement(y.gl,{ratio:2,display:"block"},i.createElement(i.Fragment,null,i.createElement(U.Y,{src:t,alt:e,hideImage:Boolean(!t),backgroundColor:`#${r}`,"data-testid":"channel_cover"}),l?i.createElement(te._V,{"data-testid":"channel_logo",style:{objectFit:"contain"},src:l}):i.createElement(y.EY,{"data-testid":"channel_text",color:"text.accent.onDark.default",variant:"body.xl.default"},e))))}),(({slug:e})=>({itemId:e,item:d.Ay.Channel}))),re=(0,I.S2)((({channels:e})=>{const{query:t}=(0,n.g)(),a=S();return i.createElement(y.az,{my:"spacing.2xl"},i.createElement(v.A,{title:(0,o.AP)("Univers"),pb:"spacing.xl",ps:"spacing.s",href:`/search/${t}/channel`,onClick:a}),i.createElement(g.kK,{oneLine:!0,overflow:"hidden","data-testid":"channel_thumbnail_grid"},e.map((({name:e,picture:t,slug:a,id:r,backgroundColor:l,logoAsset:n},s)=>{var o,c;return i.createElement(I.OJ,{key:r,value:{itemIndex:s}},i.createElement(ae,{picture:null==t||null===(o=t.large)||void 0===o?void 0:o[0],name:e,slug:a,backgroundColor:l,logo:null==n||null===(c=n.large)||void 0===c?void 0:c[0]}))}))))}),{section:u.CHANNELS});var le=a("9OcB"),ie=a("1lpQ");const ne=z.J1`
	fragment isPodcastFavorite on Podcast {
		isPodcastFavorite: isFavorite
	}
`,se=e=>{const t={podcastId:e},a=(0,K.wA)(),l=(0,Y.G)((({user:e})=>(0,M.UJ)(e))),{data:i}=(0,Z.I)({fragment:ne,from:{__typename:"Podcast",id:e},optimistic:!0}),[n]=(0,r.HwP)({variables:t,onCompleted:()=>{a((0,$.TD)(W.Z.favorites,{id:e,timestamp:Date.now()},"show"))},optimisticResponse:{__typename:"Mutation",addPodcastToFavorite:{podcast:{id:e,isPodcastFavorite:!0,__typename:"Podcast"},__typename:"PodcastMutationFavoriteAddOut"}}}),[s]=(0,r.PKC)({variables:t,onCompleted:()=>{a((0,$.E$)(W.Z.favorites,e,"show"))},optimisticResponse:{__typename:"Mutation",removePodcastFromFavorite:{podcast:{id:e,isPodcastFavorite:!1,__typename:"Podcast"},__typename:"PodcastMutationFavoriteRemoveOut"}}}),o=(0,Y.G)((t=>t.feedbacks.favorites.show.feedbacks[e])),c=Boolean(o||(null==i?void 0:i.isPodcastFavorite));return{isFavorite:c,toggleFavorite:()=>{l?c?s():n():G.g.goToConnection()}}};var oe;const ce=(0,I.S2)((({id:e,podcastName:t,isExplicitPodcast:a,picture:r,hasExplicitPicture:l})=>{const{push:s}=(0,n.W6)(),{toggleFavorite:o,isFavorite:c}=se(e),d=(0,w.A)();return i.createElement(R.V,{onClick:()=>{d(),s(`/show/${e}`)},_hover:{cursor:"pointer"},"data-testid":"show_thumbnail"},i.createElement(y.gl,{ratio:1,display:"block"},i.createElement(le.A,{src:r,isExplicitCover:l},i.createElement(O.Q,null,i.createElement(q.A,{type:"show",id:e}),i.createElement(H.A,{isFavorite:c,toggleFavorite:o})))),i.createElement(k.r,{title:t},i.createElement(L.A,{onClick:e=>{d(),(e=>{e.stopPropagation(),e.currentTarget.blur()})(e)},to:`/show/${e}`,_hover:{textDecoration:"underline"}},t)),a&&(oe||(oe=i.createElement(y.az,{mt:"spacing.s"},i.createElement(ie.A,null)))))}),(({id:e})=>({itemId:e,item:d.Ay.Podcast}))),de=(0,I.S2)((({podcasts:e})=>{const{query:t}=(0,n.g)(),a=S();return i.createElement(y.az,{my:"spacing.2xl"},i.createElement(v.A,{title:(0,o.AP)("Podcasts"),pb:"spacing.xl",ps:"spacing.s",href:`/search/${t}/show`,onClick:a}),i.createElement(g.kK,{oneLine:!0,overflow:"hidden","data-testid":"show_thumbnail_grid"},e.map((({id:e,displayTitle:t,cover:a,isExplicit:r},l)=>i.createElement(I.OJ,{key:e,value:{legacyContext:{ID:e,TYPE:(0,T.kv)(d.Ay.Podcast)},itemIndex:l}},i.createElement(ce,{key:e,id:e,podcastName:t,isExplicitPodcast:r,picture:null==a?void 0:a.large[0],hasExplicitPicture:null==a?void 0:a.explicitStatus}))))))}),{section:u.PODCASTS});var ue,me=a("+OFx");const pe=({id:e,livestreamName:t,picture:a,hasExplicitPicture:r})=>i.createElement(I.OJ,{value:{item:d.Ay.Radio,itemId:e}},i.createElement(R.V,{"data-testid":"livestream_thumbnail"},i.createElement(y.gl,{ratio:1,display:"block"},i.createElement(le.A,{src:a,alt:t,isExplicitCover:r},i.createElement(O.Q,null,i.createElement(q.A,{shouldPlayRadio:!0,type:"livestream",id:e})))),i.createElement(k.r,{title:t},t),i.createElement(y.so,{flexDirection:"row",alignItems:"center"},i.createElement(F.T,null,(0,o.AP)("EN DIRECT")),ue||(ue=i.createElement(me.f,{marginTop:"spacing.xs",color:"text.neutral.secondary.default"}))))),Ee=(0,I.S2)((({livestreams:e})=>{const{query:t}=(0,n.g)(),a=S();return i.createElement(y.az,{my:"spacing.2xl"},i.createElement(v.A,{title:(0,o.AP)("Radios"),pb:"spacing.xl",ps:"spacing.s",href:`/search/${t}/livestream`,onClick:a}),i.createElement(g.kK,{oneLine:!0,overflow:"hidden","data-testid":"livestream_thumbnail_grid"},e.map((({id:e,name:t,cover:a},r)=>i.createElement(I.OJ,{key:e,value:{legacyContext:{ID:e,TYPE:(0,T.kv)(d.Ay.Livestream)},itemIndex:r}},i.createElement(pe,{key:e,id:e,livestreamName:t,picture:null==a?void 0:a.large[0],hasExplicitPicture:Boolean(null==a?void 0:a.explicitStatus)}))))))}),{section:u.LIVESTREAMS});var Ae=a("HmE0"),he=a("GQRc"),ye=a("zuZo"),ge=a("gVf4"),ve=a("AfN5"),_e=a("GNQ5"),Ie=a("u7vQ"),Te=a("GjdC");const be=(0,I.S2)((({id:e,title:t,picture:a})=>{const r=(0,K.d4)((e=>String((0,M.F6)(e.user)))),{legacyContext:l}=(0,I.iQ)(),[n,s]=(0,i.useState)(!1),o=e===ye.u.Default,{isPaused:c,isPlaying:u}=(0,ge.A)(o?d.Ay.Flow:d.Ay.MultiFlow,o?r:e),m=(0,Te.A)();return i.createElement(y.az,{as:"button",textAlign:"center",padding:"spacing.s",paddingBottom:"spacing.l",borderRadius:"s",role:"group",overflow:"hidden",onClick:()=>{u||m("direct_play"),u||c?Ie.Ay.control.togglePause():o?Ie.Ay.play({type:ve.Kk.USER,id:r,radio:!0,context:l}):Ie.Ay.play({type:ve.Kk.MULTI_FLOW,id:e,radio:!0,context:l})},onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),"data-testid":"flow_config_thumbnail"},i.createElement(y.gl,{ratio:1},i.createElement(i.Fragment,null,i.createElement(y.az,{background:(0,he.RQ)(e).backgroundColor,position:"absolute",borderRadius:"full",transition:"400ms ease-out",opacity:0,zIndex:"1",_groupHover:{opacity:1,transform:"scale(2)"},_groupFocusVisible:{opacity:1,transform:"scale(2)"}}),i.createElement(y.az,{borderRadius:"full",backgroundColor:"background.neutral.secondary.default",position:"relative",transition:"400ms ease-out",_groupHover:{opacity:0},_groupFocusVisible:{opacity:0},sx:u?{background:(0,he.RQ)(e).backgroundColor}:void 0},i.createElement(te._V,{sx:u?{opacity:0}:void 0,src:a})),i.createElement(y.az,{position:"absolute",opacity:0,zIndex:"2",transition:"400ms ease-out",_groupHover:{opacity:1},_groupFocusVisible:{opacity:1},sx:u?{opacity:1}:void 0},i.createElement(Ae.K0,{as:"div","aria-label":"",colorScheme:"white",shadow:"md",variant:"onDark",icon:i.createElement(_e.A,{isHover:n,isActive:u,color:"black",size:16})})))),i.createElement(y.EY,{pt:"spacing.s",color:"text.neutral.primary.default",variant:"body.l.default",noOfLines:2,position:"relative",zIndex:"2",transition:"400ms ease-out",_groupHover:{color:(0,he.RQ)(e).textColor},_groupFocusVisible:{color:(0,he.RQ)(e).textColor},title:t},t))}),(({id:e})=>({itemId:e,item:d.Ay.Flow}))),Se=(0,I.S2)((({flowConfigs:e})=>{const{query:t}=(0,n.g)(),a=(0,Y.G)((e=>String((0,M.F6)(e.user)))),r=S();return i.createElement(y.az,{my:"spacing.2xl"},i.createElement(v.A,{title:(0,o.AP)("Flow"),pb:"spacing.xl",ps:"spacing.s",href:`/search/${t}/flow_config`,onClick:r}),i.createElement(g.kK,{oneLine:!0,overflow:"hidden","data-testid":"flow_config_thumbnail_grid"},e.map((({id:e,title:t,visuals:{dynamicPageIcon:r}},l)=>{var n;return i.createElement(I.OJ,{value:{legacyContext:e===ye.u.Default?{ID:a,TYPE:(0,T.kv)(d.Ay.Flow)}:{ID:e,TYPE:(0,T.kv)(d.Ay.MultiFlow)},itemIndex:l},key:e},i.createElement(be,{id:e,title:t,picture:(null==r||null===(n=r.large)||void 0===n?void 0:n[0])||""}))}))))}),{section:u.FLOW});var Pe=a("mqk7"),fe=a("sAMA");const Ce=(0,I.S2)((({tracks:e})=>{const{query:t}=(0,n.g)(),a=(0,Y.G)((e=>(0,M.zI)(e.user)||(0,M.Uw)(e.user)===fe.g)),r=S();return i.createElement(y.az,{my:"spacing.2xl"},i.createElement(v.A,{title:(0,o.AP)("Titres"),pb:"spacing.xl",ps:"spacing.s",href:`/search/${t}/track`,onClick:r}),i.createElement(Pe.A,{shouldExplicitBeHidden:a,items:e,query:t}))}),{section:u.TRACKS});var Re=a("wZBD");const xe=(0,I.S2)((({item:e})=>{var t,a;const{push:r}=(0,n.W6)(),l=(0,w.A)();return i.createElement(g.kK,{oneLine:!0,overflow:"hidden","data-testid":"artist_top_result_thumbnail"},i.createElement(y.az,{padding:"spacing.s",onClick:()=>{l(),r(`/artist/${e.id}`)},_hover:{cursor:"pointer"}},i.createElement(le.A,{borderRadius:"rounded",src:null===(t=e.picture)||void 0===t?void 0:t.large[0],isExplicitCover:Boolean(null===(a=e.picture)||void 0===a?void 0:a.explicitStatus),"data-testid":"artist_top_result_cover"})),i.createElement(y.so,{flexDirection:"column",justifyContent:"center",width:"max-content",gap:"spacing.xs",padding:"spacing.s"},i.createElement(L.A,{to:`/artist/${e.id}`,onClick:l,_hover:{textDecoration:"underline"},"data-testid":"artist_top_result_title"},e.name),i.createElement(y.EY,{color:"text.neutral.secondary.default",variant:"body.s.default","data-testid":"artist_top_result_subtitle"},(0,o.WI)("%s fan","%s fans",{sprintf:[(0,Q.A)(e.fansCount)],count:e.fansCount})),i.createElement(Re.J,{variant:"neutral",size:"small",width:"fit-content",marginTop:"spacing.xs","data-testid":"artist_top_result_label"},(0,o.AP)("Artiste"))))}),(({item:{id:e}})=>({item:"artist",itemId:e})));var ke=a("nQur"),Le=a("AY3M");const we=(0,I.S2)((({item:e})=>{var t,a;const{push:r}=(0,n.W6)(),{toggleFavorite:l,isFavorite:s}=(0,ke.A)(e.id),c=(0,w.A)();return i.createElement(g.kK,{oneLine:!0,overflow:"hidden","data-testid":"album_top_result_thumbnail"},i.createElement(y.az,{padding:"spacing.s",onClick:()=>{c(),r(`/album/${e.id}`)},_hover:{cursor:"pointer"}},i.createElement(le.A,{src:null===(t=e.cover)||void 0===t?void 0:t.large[0],isExplicitCover:Boolean(null===(a=e.cover)||void 0===a?void 0:a.explicitStatus),alt:e.displayTitle,borderRadius:"xs","data-testid":"album_top_result_cover"},i.createElement(O.Q,null,i.createElement(q.A,{type:"album",id:e.id}),i.createElement(H.A,{isFavorite:s,toggleFavorite:l})))),i.createElement(y.so,{flexDirection:"column",justifyContent:"center",width:"max-content",gap:"spacing.xs",padding:"spacing.s"},i.createElement(L.A,{to:`/album/${e.id}`,onClick:c,_hover:{textDecoration:"underline"},"data-testid":"album_top_result_title"},e.displayTitle),i.createElement(y.EY,{color:"text.neutral.secondary.default",variant:"body.s.default","data-testid":"album_top_result_subtitle"},`${(0,o.AP)("par")} `,e.contributors.edges.map((({node:e},t)=>i.createElement(i.Fragment,{key:e.id},t>0&&", ",i.createElement(L.A,{to:`/artist/${e.id}`,_hover:{textDecoration:"underline"},onClick:c},e.name)))),` - ${(0,o.WI)("%s titre","%s titres",{sprintf:[(0,Q.A)(e.tracksCount)],count:e.tracksCount})}`),i.createElement(Re.J,{variant:"neutral",size:"small",width:"fit-content",marginTop:"spacing.xs","data-testid":"album_top_result_label"},(0,o.AP)("generic_title_album_web"))))}),(({item:{id:e}})=>({item:"album",itemId:e,legacyContext:{ID:e,TYPE:(0,T.Pe)(d.Ay.Album,Le._v)}}))),Ne=(0,I.S2)((({item:e})=>{var t,a,r,l;const{push:s}=(0,n.W6)(),{toggleFavorite:c,isFavorite:d}=V(e.id),u=(0,Y.G)((e=>(0,M.F6)(e.user))),m=(0,w.A)();return i.createElement(g.kK,{oneLine:!0,overflow:"hidden","data-testid":"playlist_top_result_thumbnail"},i.createElement(y.az,{padding:"spacing.s",onClick:()=>{m(),s(`/playlist/${e.id}`)},_hover:{cursor:"pointer"}},i.createElement(U.Y,{src:null===(t=e.picture)||void 0===t?void 0:t.large[0],alt:e.title,borderRadius:"xs","data-testid":"playlist_top_result_cover"},i.createElement(O.Q,null,i.createElement(q.A,{type:"playlist",id:e.id}),String(u)!==String(null===(a=e.owner)||void 0===a?void 0:a.id)&&i.createElement(H.A,{isFavorite:d,toggleFavorite:c})))),i.createElement(y.so,{flexDirection:"column",justifyContent:"center",width:"max-content",gap:"spacing.xs",padding:"spacing.s"},i.createElement(L.A,{to:`/playlist/${e.id}`,onClick:m,_hover:{textDecoration:"underline"},"data-testid":"playlist_top_result_title"},e.title),i.createElement(y.EY,{color:"text.neutral.secondary.default",variant:"body.s.default","data-testid":"playlist_top_result_subtitle"},null!==(r=e.owner)&&void 0!==r&&r.id&&null!==(l=e.owner)&&void 0!==l&&l.name?`${(0,o.AP)("par")} ${e.owner.name} - `:null,(0,o.WI)("%s titre","%s titres",{sprintf:[e.estimatedTracksCount],count:e.estimatedTracksCount})),i.createElement(Re.J,{variant:"neutral",size:"small",width:"fit-content",marginTop:"spacing.xs","data-testid":"playlist_top_result_label"},(0,o.AP)("Playlist"))))}),(({item:{id:e}})=>({item:"playlist",itemId:e,legacyContext:{ID:e,TYPE:(0,T.Pe)(d.Ay.Playlist,Le._v)}}))),De=(0,I.S2)((({item:e})=>{var t,a;const{push:r}=(0,n.W6)(),{toggleFavorite:l,isFavorite:s}=se(e.id),c=(0,w.A)();return i.createElement(g.kK,{oneLine:!0,overflow:"hidden","data-testid":"show_top_result_thumbnail"},i.createElement(y.az,{padding:"spacing.s",onClick:()=>{c(),r(`/show/${e.id}`)},_hover:{cursor:"pointer"}},i.createElement(le.A,{src:null===(t=e.cover)||void 0===t?void 0:t.large[0],isExplicitCover:Boolean(null===(a=e.cover)||void 0===a?void 0:a.explicitStatus),borderRadius:"xs","data-testid":"show_top_result_cover"},i.createElement(O.Q,null,i.createElement(q.A,{type:"show",id:e.id}),i.createElement(H.A,{isFavorite:s,toggleFavorite:l})))),i.createElement(y.so,{flexDirection:"column",justifyContent:"center",width:"max-content",gap:"spacing.m",padding:"spacing.s"},i.createElement(L.A,{to:`/show/${e.id}`,onClick:c,_hover:{textDecoration:"underline"},"data-testid":"show_top_result_title"},e.displayTitle),i.createElement(Re.J,{variant:"neutral",size:"small",width:"fit-content","data-testid":"show_top_result_label"},(0,o.AP)("Podcast"))))}),(({item:{id:e}})=>({item:"podcast",itemId:e,legacyContext:{ID:e,TYPE:(0,T.Pe)(d.Ay.Podcast,Le._v)}}))),Ue=({item:e})=>{var t,a;return i.createElement(I.OJ,{value:{legacyContext:{ID:e.id,TYPE:(0,T.Pe)(d.Ay.Livestream,Le._v)},item:d.Ay.Radio,itemId:e.id}},i.createElement(g.kK,{oneLine:!0,overflow:"hidden","data-testid":"livestream_top_result_thumbnail"},i.createElement(y.az,{padding:"spacing.s"},i.createElement(le.A,{src:null===(t=e.cover)||void 0===t?void 0:t.large[0],alt:e.name,isExplicitCover:Boolean(null===(a=e.cover)||void 0===a?void 0:a.explicitStatus),borderRadius:"xs","data-testid":"livestream_top_result_cover"},i.createElement(O.Q,null,i.createElement(q.A,{shouldPlayRadio:!0,type:"livestream",id:e.id})))),i.createElement(y.so,{flexDirection:"column",justifyContent:"center",width:"max-content",gap:"spacing.m",padding:"spacing.s"},i.createElement(y.EY,{color:"text.neutral.primary.default",variant:"body.l.default","data-testid":"livestream_top_result_title"},e.name),i.createElement(Re.J,{variant:"neutral",size:"small",width:"fit-content","data-testid":"livestream_top_result_label"},(0,o.AP)("Radio")))))};var Oe;const Fe=()=>{var e,t,a,l,s,c;const{query:d}=(0,n.g)(),{data:m}=(0,r.o2G)({variables:{query:decodeURIComponent(d).trim()}});if(null==m||null===(e=m.instantSearch)||void 0===e||null===(e=e.topResult)||void 0===e||!e.content)return null;const p=m.instantSearch.topResult.content,E=p.__typename;return"PodcastEpisode"===E||"Track"===E?null:i.createElement(I.OJ,{value:{section:u.BEST_RESULTS}},i.createElement(y.so,{pt:"spacing.xl",flexDirection:"column",gap:"spacing.l"},i.createElement(v.A,{title:(0,o.WI)("searchresult_title_topresults_web","searchresult_title_topresults_web",{count:1}),ps:"spacing.s"}),(()=>{switch(E){case"Artist":return t||(t=i.createElement(xe,{item:p}));case"Album":return a||(a=i.createElement(we,{item:p}));case"Playlist":return l||(l=i.createElement(Ne,{item:p}));case"Podcast":return s||(s=i.createElement(De,{item:p}));case"Livestream":return c||(c=i.createElement(Ue,{item:p}));default:return null}})(),Oe||(Oe=i.createElement(y.cG,null))))};var Be=a("LePI");const qe=(0,I.S2)((({episodes:e})=>{const{query:t}=(0,n.g)(),a=S();return i.createElement(y.az,{my:"spacing.2xl"},i.createElement(v.A,{title:(0,o.AP)("generic_title_episodes_web"),href:`/search/${t}/episode`,onClick:a}),i.createElement(Be.A,{items:e,query:t}))}),{section:u.EPISODES});var He;const Ye=({albums:e,artists:t,users:a,playlists:r,channels:l,podcasts:n,flowConfigs:s,livestreams:o,tracks:d,hasTopResult:u,podcastEpisodes:m,sectionsOrder:p})=>i.createElement(i.Fragment,null,u&&(He||(He=i.createElement(Fe,null))),p.map((u=>{switch(u){case"albums":return e.length>0&&i.createElement(P,{key:u,albums:e});case"artists":return t.length>0&&i.createElement(C,{key:u,artists:t});case"users":return a.length>0&&i.createElement(D,{key:u,users:a});case"playlists":return r.length>0&&i.createElement(ee,{key:u,playlists:r});case"channels":return l.length>0&&i.createElement(re,{key:u,channels:l});case"podcasts":return n.length>0&&i.createElement(de,{key:u,podcasts:n});case"flowConfigs":return s.length>0&&i.createElement(Se,{key:u,flowConfigs:s});case"livestreams":return o.length>0&&i.createElement(Ee,{key:u,livestreams:o});case"tracks":return d.length>0&&i.createElement(Ce,{key:u,tracks:d});case"podcastEpisodes":return m.length>0&&c.A.isAllowed("talk")&&i.createElement(qe,{key:u,episodes:m})}})));var Me,Qe,ze=a("MTsA"),Ze=a("WmA5"),Ke=a("D6Uc"),$e=a("KVgY");const We=()=>{var e,t;const{query:a}=(0,n.g)(),o=decodeURIComponent(a),{data:c,loading:m,fetchMore:p}=(0,r.l4E)({variables:{query:o,first:20,cursor:null}}),E=(0,s.A)(null==c||null===(e=c.instantSearch)||void 0===e||null===(e=e.results.albums)||void 0===e?void 0:e.edges);return m?Me||(Me=i.createElement(l.A,null)):i.createElement(I.OJ,{value:{section:u.ALBUMS}},i.createElement($e.A,{hasMore:null==c||null===(t=c.instantSearch)||void 0===t?void 0:t.results.albums.pageInfo.hasNextPage,loadMore:()=>{var e;return p({variables:{cursor:null==c||null===(e=c.instantSearch)||void 0===e?void 0:e.results.albums.pageInfo.endCursor}})},loader:Qe||(Qe=i.createElement(l.A,{key:"loader"}))},i.createElement(g.kK,null,E.map(((e,t)=>{var a,r;return i.createElement(I.OJ,{key:e.id,value:{legacyContext:{ID:e.id,TYPE:(0,T.kv)(d.Ay.Album)},itemIndex:t}},i.createElement(h.A,{key:e.id,albumName:e.displayTitle,contributors:e.contributors.edges.map((({node:{name:e,id:t}})=>({name:e,id:t}))),hasExplicitCover:null===(a=e.cover)||void 0===a?void 0:a.explicitStatus,isExplicitAlbum:Boolean(e.isExplicitAlbum),releaseDate:(0,_.A)(e.releaseDateAlbum),id:e.id,hasContextMenu:!1,picture:null===(r=e.cover)||void 0===r?void 0:r.large[0]}))})))))};var Ge,Je;const Ve=()=>{var e,t;const{query:a}=(0,n.g)(),o=decodeURIComponent(a),{data:c,loading:m,fetchMore:p}=(0,r.Dh1)({variables:{query:o,first:20,cursor:null}}),E=(0,s.A)(null==c||null===(e=c.instantSearch)||void 0===e||null===(e=e.results.artists)||void 0===e?void 0:e.edges);return m?Ge||(Ge=i.createElement(l.A,null)):i.createElement(I.OJ,{value:{section:u.ARTISTS}},i.createElement($e.A,{hasMore:null==c||null===(t=c.instantSearch)||void 0===t?void 0:t.results.artists.pageInfo.hasNextPage,loadMore:()=>{var e;return p({variables:{cursor:null==c||null===(e=c.instantSearch)||void 0===e?void 0:e.results.artists.pageInfo.endCursor}})},loader:Je||(Je=i.createElement(l.A,{key:"loader"}))},i.createElement(g.kK,null,E.map((({id:e,picture:t,name:a,isFavorite:r,fansCount:l},n)=>i.createElement(I.OJ,{key:e,value:{legacyContext:{ID:e,TYPE:(0,T.kv)(d.Ay.Artist)},itemIndex:n}},i.createElement(f.A,{key:e,artistName:a,hasExplicitPicture:Boolean(null==t?void 0:t.explicitStatus),id:e,isFavorite:Boolean(r),nbOfFans:l,picture:null==t?void 0:t.large[0]})))))))};var Xe,je;const et=()=>{var e,t;const{query:a}=(0,n.g)(),o=decodeURIComponent(a),{data:c,loading:d,fetchMore:m}=(0,r.$FS)({variables:{query:o,first:20,cursor:null}}),p=(0,s.A)(null==c||null===(e=c.instantSearch)||void 0===e||null===(e=e.results.channels)||void 0===e?void 0:e.edges);return d?Xe||(Xe=i.createElement(l.A,null)):i.createElement(I.OJ,{value:{section:u.CHANNELS}},i.createElement($e.A,{hasMore:null==c||null===(t=c.instantSearch)||void 0===t?void 0:t.results.channels.pageInfo.hasNextPage,loadMore:()=>{var e;return m({variables:{cursor:null==c||null===(e=c.instantSearch)||void 0===e?void 0:e.results.channels.pageInfo.endCursor}})},loader:je||(je=i.createElement(l.A,{key:"loader"}))},i.createElement(g.kK,null,p.map((({id:e,backgroundColor:t,logoAsset:a,name:r,slug:l,picture:n},s)=>{var o,c;return i.createElement(I.OJ,{key:e,value:{itemIndex:s}},i.createElement(ae,{picture:null==n||null===(o=n.large)||void 0===o?void 0:o[0],name:r,slug:l,backgroundColor:t,logo:null==a||null===(c=a.large)||void 0===c?void 0:c[0]}))})))))};var tt,at;const rt=()=>{var e,t;const{query:a}=(0,n.g)(),o=decodeURIComponent(a),c=(0,Y.G)((e=>String((0,M.F6)(e.user)))),{data:m,loading:p,fetchMore:E}=(0,r.IoY)({variables:{query:o,first:20,cursor:null}}),A=(0,s.A)(null==m||null===(e=m.instantSearch)||void 0===e||null===(e=e.results.flowConfigs)||void 0===e?void 0:e.edges);return p?tt||(tt=i.createElement(l.A,null)):i.createElement(I.OJ,{value:{section:u.FLOW}},i.createElement($e.A,{hasMore:null==m||null===(t=m.instantSearch)||void 0===t?void 0:t.results.flowConfigs.pageInfo.hasNextPage,loadMore:()=>{var e;return E({variables:{cursor:null==m||null===(e=m.instantSearch)||void 0===e?void 0:e.results.flowConfigs.pageInfo.endCursor}})},loader:at||(at=i.createElement(l.A,{key:"loader"}))},i.createElement(g.kK,null,A.map((({id:e,title:t,visuals:{dynamicPageIcon:a}},r)=>{var l;return i.createElement(I.OJ,{value:{legacyContext:e===ye.u.Default?{ID:c,TYPE:(0,T.kv)(d.Ay.Flow)}:{ID:e,TYPE:(0,T.kv)(d.Ay.MultiFlow)},itemIndex:r},key:e},i.createElement(be,{key:e,id:e,title:t,picture:(null==a||null===(l=a.large)||void 0===l?void 0:l[0])||""}))})))))};var lt,it;const nt=()=>{var e,t;const{query:a}=(0,n.g)(),o=decodeURIComponent(a),{data:c,loading:m,fetchMore:p}=(0,r.efT)({variables:{query:o,first:20,cursor:null}}),E=(0,s.A)(null==c||null===(e=c.instantSearch)||void 0===e||null===(e=e.results.livestreams)||void 0===e?void 0:e.edges);return m?lt||(lt=i.createElement(l.A,null)):i.createElement(I.OJ,{value:{section:u.LIVESTREAMS}},i.createElement($e.A,{hasMore:null==c||null===(t=c.instantSearch)||void 0===t?void 0:t.results.livestreams.pageInfo.hasNextPage,loadMore:()=>{var e;return p({variables:{cursor:null==c||null===(e=c.instantSearch)||void 0===e?void 0:e.results.livestreams.pageInfo.endCursor}})},loader:it||(it=i.createElement(l.A,{key:"loader"}))},i.createElement(g.kK,null,E.map((({id:e,name:t,cover:a},r)=>i.createElement(I.OJ,{key:e,value:{legacyContext:{ID:e,TYPE:(0,T.kv)(d.Ay.Livestream)},itemIndex:r}},i.createElement(pe,{key:e,id:e,livestreamName:t,picture:null==a?void 0:a.large[0],hasExplicitPicture:Boolean(null==a?void 0:a.explicitStatus)})))))))};var st,ot;const ct=()=>{var e,t;const{query:a}=(0,n.g)(),o=decodeURIComponent(a),{data:c,loading:m,fetchMore:p}=(0,r.MmF)({variables:{query:o,first:20,cursor:null}}),E=(0,s.A)(null==c||null===(e=c.instantSearch)||void 0===e||null===(e=e.results.playlists)||void 0===e?void 0:e.edges);return m?st||(st=i.createElement(l.A,null)):i.createElement(I.OJ,{value:{section:u.ARTISTS}},i.createElement($e.A,{hasMore:null==c||null===(t=c.instantSearch)||void 0===t?void 0:t.results.playlists.pageInfo.hasNextPage,loadMore:()=>{var e;return p({variables:{cursor:null==c||null===(e=c.instantSearch)||void 0===e?void 0:e.results.playlists.pageInfo.endCursor}})},loader:ot||(ot=i.createElement(l.A,{key:"loader"}))},i.createElement(g.kK,null,E.map((({id:e,title:t,picture:a,estimatedTracksCount:r,owner:l,fansCount:n},s)=>i.createElement(I.OJ,{key:e,value:{legacyContext:{ID:e,TYPE:(0,T.kv)(d.Ay.Playlist)},itemIndex:s}},i.createElement(j,{key:e,id:e,picture:null==a?void 0:a.large[0],playlistName:t,estimatedTracksCount:r,ownerId:null==l?void 0:l.id,ownerName:null==l?void 0:l.name,fansCount:n})))))))};var dt,ut;const mt=()=>{var e,t;const{query:a}=(0,n.g)(),o=decodeURIComponent(a),{data:c,loading:d,fetchMore:m}=(0,r.DNU)({variables:{query:o,first:20,cursor:null}}),p=(0,s.A)(null==c||null===(e=c.instantSearch)||void 0===e||null===(e=e.results.users)||void 0===e?void 0:e.edges);return d?dt||(dt=i.createElement(l.A,null)):i.createElement(I.OJ,{value:{section:u.USERS}},i.createElement($e.A,{hasMore:null==c||null===(t=c.instantSearch)||void 0===t?void 0:t.results.users.pageInfo.hasNextPage,loadMore:()=>{var e;return m({variables:{cursor:null==c||null===(e=c.instantSearch)||void 0===e?void 0:e.results.users.pageInfo.endCursor}})},loader:ut||(ut=i.createElement(l.A,{key:"loader"}))},i.createElement(g.kK,null,p.map((({id:e,name:t,picture:a},r)=>i.createElement(I.OJ,{key:e,value:{itemIndex:r}},i.createElement(N,{id:e,name:t,picture:null==a?void 0:a.large[0]})))))))};var pt,Et;const At=()=>{var e,t;const{query:a}=(0,n.g)(),o=decodeURIComponent(a),{data:c,loading:m,fetchMore:p}=(0,r.y02)({variables:{query:o,first:20,cursor:null}}),E=(0,s.A)(null==c||null===(e=c.instantSearch)||void 0===e||null===(e=e.results.podcasts)||void 0===e?void 0:e.edges);return m?pt||(pt=i.createElement(l.A,null)):i.createElement(I.OJ,{value:{section:u.PODCASTS}},i.createElement($e.A,{hasMore:null==c||null===(t=c.instantSearch)||void 0===t?void 0:t.results.podcasts.pageInfo.hasNextPage,loadMore:()=>{var e;return p({variables:{cursor:null==c||null===(e=c.instantSearch)||void 0===e?void 0:e.results.podcasts.pageInfo.endCursor}})},loader:Et||(Et=i.createElement(l.A,{key:"loader"}))},i.createElement(g.kK,null,E.map((({id:e,displayTitle:t,cover:a,isExplicit:r},l)=>i.createElement(I.OJ,{key:e,value:{legacyContext:{ID:e,TYPE:(0,T.kv)(d.Ay.Podcast)},itemIndex:l}},i.createElement(ce,{key:e,id:e,podcastName:t,isExplicitPodcast:r,picture:null==a?void 0:a.large[0],hasExplicitPicture:null==a?void 0:a.explicitStatus})))))))};var ht,yt,gt,vt,_t=a("8m9I"),It=a("Qdkb"),Tt=a("xCFc"),bt=a("BP9I"),St=a("1Uwb"),Pt=a("EZyQ"),ft=a("ftFY"),Ct=a("tgyz"),Rt=a("7u2F"),xt=a("1Pdy");const kt=({items:e,fetchMore:t,query:a,shouldExplicitBeHidden:r=!1,total:n,hasMore:s})=>{const c={ID:a,TYPE:(0,T.kv)(d.Ay.Track)},u={id:a,type:ve.Kk.SEARCH},m=(0,i.useRef)(null),{manageItems:p,tableItems:E}=(0,ft.A)(a,e,c),A=!s,{playerStatus:h}=(0,Ct.A)(c,u,A),y=(0,Rt.A)(E,c),g=(0,Tt.Ay)({container:u,context:c,manageItems:p,playerStatus:h,select:y,shouldExplicitBeHidden:r});return i.createElement(Tt.ru,{value:g},i.createElement(St.A,{tableRef:m,rowCount:n},i.createElement(St.A.Header,null,i.createElement(St.A.CellHead,{size:It.c.TITLE.SIZE,sortPath:"item.title"},(0,o.AP)("datagrid_title_trackUPP_web")),i.createElement(St.A.CellHead,{size:It.c.ARTIST.SIZE,sortPath:"item.artist.name"},(0,o.AP)("datagrid_title_artistUPP_web")),i.createElement(St.A.CellHead,{breakpoint:It.c.PARENT.BREAKPOINT,size:It.c.PARENT.SIZE,sortPath:"item.parent.name"},(0,o.AP)("datagrid_title_albumUPP_web")),i.createElement(St.A.CellHead,{ariaLabel:(0,o.AP)("sortingmenu_title_duration_web"),size:It.c.DURATION.SIZE,sortPath:"item.duration"},ht||(ht=i.createElement(_t.m,null))),i.createElement(St.A.CellHead,{breakpoint:It.c.POPULARITY.BREAKPOINT,size:It.c.POPULARITY.SIZE,sortPath:"item.popularity"},(0,o.AP)("datagrid_title_popularityabbrevUPP_web")),i.createElement(St.A.CellHead,{align:It.c.SELECT.ALIGN,size:It.c.SELECT.SIZE},yt||(yt=i.createElement(bt.A,null)))),i.createElement(St.A.Body,null,i.createElement($e.A,{hasMore:s,loadMore:t,loader:gt||(gt=i.createElement(l.A,{key:"loader"}))},E.toDisplay.map(((e,t)=>i.createElement(Pt.A,{data:E,key:e.uuid,index:t,style:{height:xt.F4.md}})))))),0===E.toDisplay.length&&(vt||(vt=i.createElement(St.A.EmptyContent,null))))},Lt=()=>{var e,t;const{query:a}=(0,n.g)(),l=decodeURIComponent(a),{data:o,fetchMore:c}=(0,r.fL0)({variables:{query:l,first:20,cursor:null}}),d=(0,Y.G)((e=>(0,M.zI)(e.user)||(0,M.Uw)(e.user)===fe.g)),m=(0,s.A)(null==o||null===(e=o.instantSearch)||void 0===e||null===(e=e.results.tracks)||void 0===e?void 0:e.edges);return i.createElement(I.OJ,{value:{section:u.TRACKS}},i.createElement(kt,{items:m,fetchMore:()=>{var e;return c({variables:{cursor:null==o||null===(e=o.instantSearch)||void 0===e?void 0:e.results.tracks.pageInfo.endCursor}})},shouldExplicitBeHidden:d,query:a,total:m.length,hasMore:Boolean(null==o||null===(t=o.instantSearch)||void 0===t?void 0:t.results.tracks.pageInfo.hasNextPage)}))};var wt,Nt,Dt,Ut=a("145D"),Ot=a("Kc87");const Ft=({items:e,fetchMore:t,query:a,shouldExplicitBeHidden:r=!1,total:n,hasMore:s})=>{const c={ID:a,TYPE:(0,T.kv)(d.Ay.Episode)},u={id:a,type:ve.Kk.SEARCH},m=(0,i.useRef)(null),{manageItems:p,tableItems:E}=(0,ft.A)(a,e,c),A=!s,{playerStatus:h}=(0,Ct.A)(c,u,A),y=xt.F4.lg,g=(0,Tt.Ay)({container:u,context:c,manageItems:p,playerStatus:h,rowHeight:y,shouldExplicitBeHidden:r});return i.createElement(Tt.ru,{value:g},i.createElement(St.A,{tableRef:m,rowCount:n},i.createElement(St.A.Header,null,i.createElement(St.A.CellHead,{size:Ut.c.TITLE.SIZE,sortPath:"item.title"},(0,o.AP)("datagrid_title_episodeUPP_web")),i.createElement(St.A.CellHead,{size:Ut.c.PARENT.SIZE,sortPath:"item.parent.name"},(0,o.AP)("datagrid_title_podcastUPP_web")),i.createElement(St.A.CellHead,{breakpoint:Ut.c.DATE.BREAKPOINT,size:Ut.c.DATE.SIZE,sortPath:"item.date"},(0,o.AP)("datagrid_title_addedtrackUPP_web")),i.createElement(St.A.CellHead,{ariaLabel:(0,o.AP)("sortingmenu_title_duration_web"),size:Ut.c.DURATION.SIZE,sortPath:"item.duration"},wt||(wt=i.createElement(_t.m,null)))),i.createElement(St.A.Body,null,i.createElement($e.A,{hasMore:s,loadMore:t,loader:Nt||(Nt=i.createElement(l.A,{key:"loader"}))},E.toDisplay.map(((e,t)=>i.createElement(Ot.A,{data:E,key:e.uuid,index:t,style:{height:xt.F4.lg}})))))),0===E.toDisplay.length&&(Dt||(Dt=i.createElement(St.A.EmptyContent,null))))},Bt=()=>{var e,t;const{query:a}=(0,n.g)(),l=decodeURIComponent(a),{data:o,fetchMore:c}=(0,r.DI4)({variables:{query:l,first:20,cursor:null}}),d=(0,Y.G)((e=>(0,M.zI)(e.user)||(0,M.Uw)(e.user)===fe.g)),m=(0,s.A)(null==o||null===(e=o.instantSearch)||void 0===e||null===(e=e.results.podcastEpisodes)||void 0===e?void 0:e.edges);return i.createElement(I.OJ,{value:{section:u.EPISODES}},i.createElement(Ft,{items:m,fetchMore:()=>{var e;return c({variables:{cursor:null==o||null===(e=o.instantSearch)||void 0===e?void 0:e.results.podcastEpisodes.pageInfo.endCursor}})},shouldExplicitBeHidden:d,query:a,total:m.length,hasMore:Boolean(null==o||null===(t=o.instantSearch)||void 0===t?void 0:t.results.podcastEpisodes.pageInfo.hasNextPage)}))};var qt,Ht,Yt,Mt,Qt,zt,Zt,Kt,$t,Wt;const Gt=()=>{const{tab:e}=(0,n.g)();switch(e){case"album":return qt||(qt=i.createElement(We,null));case"artist":return Ht||(Ht=i.createElement(Ve,null));case"channel":return Yt||(Yt=i.createElement(et,null));case"flow_config":return Mt||(Mt=i.createElement(rt,null));case"livestream":return Qt||(Qt=i.createElement(nt,null));case"playlist":return zt||(zt=i.createElement(ct,null));case"user":return Zt||(Zt=i.createElement(mt,null));case"show":return Kt||(Kt=i.createElement(At,null));case"track":return $t||($t=i.createElement(Lt,null));case"episode":return Wt||(Wt=i.createElement(Bt,null));default:return null}};var Jt,Vt,Xt=a("D2sd");const jt="search_result",ta=()=>{var e,t;const{query:a,tab:o="all"}=(0,n.g)(),c=decodeURIComponent(a),d=(0,i.useRef)(),u=(0,i.useRef)(null),E=(0,i.useCallback)((()=>{u.current&&b.A.log({type:"cdp",eventName:"search_result_displayed",eventVersion:2,customAttributes:{...d.current}})}),[]),{data:h,loading:g}=(0,r.t1v)({variables:{query:c.trim(),firstGrid:10,firstList:6},onCompleted:e=>{u.current&&clearTimeout(u.current),d.current={query:c,page_content:A(e.instantSearch),display_timestamp:(new Date).toISOString()},u.current=setTimeout((()=>{E(),u.current=null}),3e3)}});if((0,i.useEffect)((()=>(window.addEventListener("beforeunload",E),()=>{window.removeEventListener("beforeunload",E)})),[E]),g)return Jt||(Jt=i.createElement(l.A,null));if(null==h||null===(e=h.instantSearch)||void 0===e||!e.results)return null;const v=(_=h.instantSearch.results,Object.entries(_).filter((([e,t])=>!m(e)&&(0,s.A)(t.edges).length)).sort((([,e],[,t])=>t.priority-e.priority)).map((([e])=>e)));var _;const T=Boolean(null===(t=h.instantSearch.topResult)||void 0===t?void 0:t.content);if(!T&&!Object.keys(v).length)return i.createElement(y.az,{width:"auto"},i.createElement(Ke.A,{query:c,revisedQuery:""}));const S=v.map((e=>({id:p[e].id,label:p[e].label,action:()=>f(e)}))),P=1===S.length?S:[{id:p.all.id,label:p.all.label,action:()=>f(p.all.id)}].concat(S);if(o===p.all.id&&1===P.length&&P[0].id!==p.all.id)return i.createElement(n.rd,{to:`/search/${a}/${P[0].id}`});const f=e=>{let t=`/search/${a}`;e!==p.all.id&&(t+="/"+p[e].id),Xt.A.sendLog(),b.A.log({type:"cdp",eventName:"filter_clicked",customAttributes:{screen_view_name:jt,screen_view_id_type:"query",screen_view_id:c,filter_type:"filter",filter_name:p[e].filterName}}),Ze.A.push(t)};return i.createElement(y.az,{px:"spacing.xl"},i.createElement(y.az,{paddingTop:"spacing.3xl",paddingBottom:"spacing.xl",paddingX:"spacing.s"},i.createElement(ze.A,{items:P,active:o,style:{width:"100%",padding:0}})),i.createElement(I.OJ,{value:{page:jt,entity:"query",entityId:c}},o===p.all.id?i.createElement(Ye,{sectionsOrder:v,hasTopResult:T,albums:(0,s.A)(h.instantSearch.results.albums.edges),artists:(0,s.A)(h.instantSearch.results.artists.edges),users:(0,s.A)(h.instantSearch.results.users.edges),playlists:(0,s.A)(h.instantSearch.results.playlists.edges),channels:(0,s.A)(h.instantSearch.results.channels.edges),podcasts:(0,s.A)(h.instantSearch.results.podcasts.edges),flowConfigs:(0,s.A)(h.instantSearch.results.flowConfigs.edges),livestreams:(0,s.A)(h.instantSearch.results.livestreams.edges),podcastEpisodes:(0,s.A)(h.instantSearch.results.podcastEpisodes.edges).slice(0,7),tracks:(0,s.A)(h.instantSearch.results.tracks.edges).slice(0,7)}):Vt||(Vt=i.createElement(Gt,null))))}},"0O3b":(e,t,a)=>{function r(e){return(e||[]).reduce(((e,t)=>(t.node&&e.push(t.node),e)),[])}a.d(t,{A:()=>r}),a("WpbS")},"4Rw2":(e,t,a)=>{a.d(t,{T:()=>l,c:()=>i});const r=a("Vd8Q").default.get("log_contexts"),l=e=>null!=e&&("number"==typeof e.ID||"string"==typeof e.ID)&&"string"==typeof e.TYPE,i=(e,t)=>String(e.ID)===String(t.ID)&&r[e.TYPE]===r[t.TYPE]},MG7B:(e,t,a)=>{function r(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}a.d(t,{A:()=>r})}}]);